!function(t){function e(e){for(var o,a,c=e[0],l=e[1],u=e[2],p=0,f=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(s&&s(e);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={3:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;i.push([254,1,0]),n()}({107:function(t,e,n){},108:function(t,e,n){},112:function(t,e,n){},254:function(t,e,n){t.exports=n(430)},255:function(t,e,n){},312:function(t,e,n){"use strict";var o=n(107);n.n(o).a},313:function(t,e,n){"use strict";var o=n(108);n.n(o).a},317:function(t,e,n){"use strict";var o=n(112);n.n(o).a},321:function(t,e){},323:function(t,e){},355:function(t,e){},356:function(t,e){},398:function(t,e,n){},399:function(t,e,n){},412:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="button" class="'+(null==(__t=macroClass)?"":__t)+'" data-macro-type="'+(null==(__t=macroType)?"":__t)+'" data-macro-value="'+(null==(__t=macroValue)?"":__t)+'" \r\n    data-macro-default-value="'+__e(macroDefaultValue)+'" value="'+(null==(__t=macroDisplayValue)?"":__t)+'" />';return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},413:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <input id="ktc-configuration-url-layer-url-1" name="urlParameterName" type="text"\r\n                class="fr-link-attr '+(null==(__t=value?"fr-not-empty":"")?"":__t)+'" placeholder="" tabindex="1" dir="auto" value="'+(null==(__t=value)?"":__t)+'"><label\r\n                for="ktc-configuration-url-layer-url-1">'+(null==(__t=urlParameterLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-url-text-1" name="defaultText" type="text" class="fr-link-attr fr-not-empty"\r\n                placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=defaultValue)?"":__t)+'">\r\n            <label for="ktc-configuration-url-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},414:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-macro-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <select id="ktc-configuration-macro-layer-type-1" class="ktc-select" name="contextMacroType" tabindex="1">\r\n                ',Object.keys(macros).forEach(t=>{__p+='\r\n                    <option value="'+__e(t)+'" '+(null==(__t=macroValue===t?"selected":"")?"":__t)+">"+__e(macros[t])+"</option>\r\n                "}),__p+='\r\n            </select>\r\n            <label for="ktc-configuration-macro-layer-type-1">'+(null==(__t=macroTypeLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-macro-layer-text-1" name="defaultText" type="text"\r\n                class="fr-link-attr fr-not-empty" placeholder="" tabindex="2" dir="auto"\r\n                value="'+(null==(__t=macroDefaultValue)?"":__t)+'"><label\r\n                for="ktc-configuration-macro-layer-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},416:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="ktc-btn-rich-text-apply" data-title="'+(null==(__t=buttonText)?"":__t)+'">\r\n    <svg class="fr-svg" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z"></path>\r\n    </svg>\r\n    <span class="ktc-btn-save__label">'+(null==(__t=buttonText)?"":__t)+"</span>\r\n</button>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},417:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=".ktc-macro {\n  cursor          : pointer;\n  border          : 1px solid black;\n  border-radius   : 3px;\n  padding         : 0 4px;\n  background-color: #e5e5e5;\n}\n\n.ktc-macro:hover {\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.75);\n}\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},419:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<html>\r\n<head> \r\n    <style>\r\n        "+(null==(__t=froalaCss)?"":__t)+'\r\n    </style>\r\n</head>\r\n<body class="fr-view" style="pointer-events: none;">\r\n'+(null==(__t=html)?"":__t)+"\r\n</body>\r\n</html>\r\n\r\n\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},420:function(t,e,n){},421:function(module,exports,__webpack_require__){var _=__webpack_require__(60);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-link-popup-form" onsubmit="event.preventDefault()">\n  <div class="fr-layer fr-active" id="ktc-link-configuration-layer">\n    <div class="ktc-selector">\n      <div class="ktc-selector-item-name-field fr-input-line">\n        <input type="text" name="ktc-page-name" class="ktc-selector-item fr-link-attr '+(null==(__t=linkUrl?"fr-not-empty":"")?"":__t)+'" value="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=link)?"":__t)+'" '+(null==(__t=disableLinkInput?"disabled":"")?"":__t)+' />\n        <label for="ktc-page-name">'+(null==(__t=linkLabel)?"":__t)+'</label>\n      </div>\n      <div class="ktc-selector-button-line">\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="1" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\n        </div>\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'">\n          '+(null==(__t=contentSelectionButtonText)?"":__t)+'\n        </div>\n      </div>\n      <input name="linkUrl" value="'+(null==(__t=linkUrl)?"":__t)+'" hidden>\n    </div>\n    <div class="fr-input-line" style="display: '+(null==(__t=imageLink?"none":"block")?"":__t)+';">\n      <input id="ktc-configuration-url-text-1" name="linkText" type="text" class="fr-link-attr fr-not-empty"\n        placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=linkText)?"":__t)+'">\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=linkTextLabel)?"":__t)+'</label>\n    </div>\n    <div class="fr-checkbox-line">\n      <span class="fr-checkbox">\n        <input name="openInNewTab" class="fr-link-attr fr-not-empty" type="checkbox" id="ktc-configuration-openInNewTab"\n          tabindex="3" dir="auto" '+(null==(__t=openInNewTab?"checked":"")?"":__t)+'>\n        <span>\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10"\n            height="10" viewBox="0 0 32 32">\n            <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path>\n          </svg>\n        </span>\n      </span><label id="ktc-lbl-configuration-openInNewTab">'+(null==(__t=openInNewTabLabel)?"":__t)+'</label>\n    </div>\n    <div class="fr-action-buttons">\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="3" type="button">\n        '+(null==(__t=actionButtonText)?"":__t)+"\n      </button>\n    </div>\n  </div>\n</form>\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},430:function(t,e,n){"use strict";n.r(e);n(160);var o,r=n(10),i=n(5),a=n(48),c=(n(255),n(163),n(12)),l=n(41),u=n(115),s=n(3),p=n(116),f=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=function(t){function e(){return t.call(this,"kentico.pagebuilder")||this}return f(e,t),e=d([Object(c.injectable)(),h("design:paramtypes",[])],e)}(p.a),b=n(26),m=n(63),g=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},v=function(){function t(){}return t.prototype.normalizeConfiguration=function(t){var e=Object(b.normalize)(t,m.c).entities,n=i.f.isEmpty(e)?{editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}}:e;return n.pageTemplate=t.pageTemplate,n},t.prototype.denormalizeConfiguration=function(t){return Object(b.denormalize)({page:{editableAreas:Object.keys(t.editableAreas)},pageTemplate:t.pageTemplate},m.c,t)},t.prototype.normalizeMetadata=function(t){var e=Object(b.normalize)(t,m.b).entities;return{widgets:e.widgets||{},sections:e.sections||{},personalizationConditionTypes:e.personalizationConditionTypes||{},pageTemplates:e.pageTemplates||{}}},t=g([Object(c.injectable)()],t)}(),w=n(40),_=n(13),k=n(9),O=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},T=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},j=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},S=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.processIncomingMessage=function(e,n){var o=this;return function(r){return j(o,void 0,Promise,(function(){return S(this,(function(o){switch(o.label){case 0:return[4,t.prototype.processIncomingMessage.call(this,e,n)(r)];case 1:return o.sent(),r.data.msg!==s.b.CHANGE_TEMPLATE?[3,3]:[4,(i=r.data.template,a=r.data.guid,O(void 0,void 0,Promise,(function(){var t,e,n;return T(this,(function(o){return t=k.a.pageTemplate.changeTemplateEndpoint,(n={})[k.a.constants.editingInstanceHeader]=a,e=n,[2,k.b.post(t,i,{headers:e})]}))})))];case 2:o.sent(),Object(_.postMessage)(s.b.TEMP_CONFIGURATION_STORED,null,r.origin),o.label=3;case 3:return[2]}var i,a}))}))}},e=x([Object(c.injectable)()],e)}(w.a),I=new c.Container;I.bind(s.c.LocalizationService).to(y),I.bind(s.c.NormalizerService).to(v),I.bind(s.c.PageConfigurationService).to(l.a),I.bind(s.c.PopUpElementsService).to(u.a),I.bind(s.c.MessagingService).to(E);var C,L=n(134),A=n(6),M=function(t,e,n){return t&&R(t)+(e+"=")+n},R=function(t){return t+(t.indexOf("?")>-1?"&":"?")},z=n(22),D=function(t,e,n){var o,r=1!==e?"multiple":"single";switch(t){case"attachment":o="kentico.components.attachmentselector.dialogtitle";break;case"media":o="kentico.components.mediafileselector.dialogtitle";break;case"page":o="kentico.components.pageselector.dialogtitle"}return n.getLocalizationWithoutPrefix(o+"."+r)},V=function(){return(V=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},B=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},N=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},U=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},F=function(t){if("object"!=typeof t)throw new TypeError("Attachment selector options parameter must be an object.");if("function"!=typeof t.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(t.selectedValues&&!Array.isArray(t.selectedValues))throw new TypeError("The 'selectedValues' parameter must be an instance of an Array type.");if(t.maxFilesLimit&&"number"!=typeof t.maxFilesLimit&&t.maxFilesLimit<0)throw new TypeError("The 'maxFilesLimit' parameter must be of type number, greater or equal to 0.");if(t.allowedExtensions&&"string"!=typeof t.allowedExtensions)throw new TypeError("The 'allowedExtensions' parameter must be of type string.")},q=function(t,e){var n={title:D("attachment",t.maxFilesLimit||1,e),applyButtonText:e.getLocalizationWithoutPrefix("kentico.components.attachmentselector.dialog.button.apply"),maxFilesLimit:1,selectedValues:[]};return i.f.assignDefined(n,t)},H=function(){return(H=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},W=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},G=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},$=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},Z=["page","media","attachment"],K=function(t,e,n){var o=t.dispatch,r=t.localizationService,i=n.activeTabIndex,a=n.selectedItemsLimit,c=n.tabs,l=c.map((function(t){return t.dialogTabType}));if(l.length>1)o(Object(z.e)(e,c.map((function(t){return t.dialogTab})),i));else{var u=l[0];"page"===u&&(e=H(H({},e),{data:{pages:H(H({},e.data.pages),{maximized:!1})},maximized:!1})),o(Object(z.e)(H(H({},e),{title:D(u,a,r)})))}},Y=function(t){var e=t.defaultTab,n=t.selectedItems;return n&&n.type||e},X=function(t){return W(void 0,void 0,Promise,(function(){var e,n,o,r,i,a,c;return G(this,(function(l){switch(l.label){case 0:return e=function(t){return"getSelectedAttachments"in t},n=function(t){return"getSelectedFiles"in t},o=function(t){return"getSelectedPage"in t},(r=t.document.querySelector("kentico-attachment-selector-dialog,  kentico-page-selector, kentico-media-files"))?e(r)?(i={type:"attachment"},[4,r.getSelectedAttachments()]):[3,2]:[2,null];case 1:return[2,(i.items=l.sent(),i)];case 2:return o(r)?(a={type:"page"},[4,r.getSelectedPage()]):[3,4];case 3:return[2,(a.items=l.sent(),a)];case 4:return n(r)?(c={type:"media"},[4,r.getSelectedFiles()]):[3,6];case 5:return[2,(c.items=l.sent(),c)];case 6:return[2]}}))}))},J=function(t,e,n,o){var r=n.pageIdentifier,i=e.selectedItemsLimit,a=e.attachmentOptions,c=e.mediaOptions,l=e.pageOptions,u=e.selectedItems,s=u&&u.items||[];switch(t){case"attachment":return{allowedExtensions:a&&a.allowedExtensions,maxFilesLimit:i,pageIdentifier:r,selectedValues:o?s.map((function(t){return t.value})):[]};case"media":return{allowedExtensions:c&&c.allowedExtensions,libraryName:c&&c.libraryName,maxFilesLimit:i,selectedValues:o?s.map((function(t){return{fileGuid:t.value}})):[]};case"page":return{identifierMode:l&&l.identifierMode?l.identifierMode:"guid",selectedValues:o?s.map((function(t){return{identifier:t.value}})):[],maximized:!0}}},Q=function(t){if("object"!=typeof t)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof t.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(t.tabs){if(!Array.isArray(t.tabs))throw new TypeError("The 'tabs' parameter must be an instance of an array of Strings.");if(t.tabs.length>Z.length)throw new TypeError("Maximum allowed length of 'tabs' array is restricted to "+Z.length+".");var e=i.a.getUniqueValues(t.tabs);if(e.filter((function(t){return-1===Z.indexOf(t)})).length)throw new TypeError("The 'tabs' parameter elements are restricted to values: "+Z.join(", "));if(e.length<t.tabs.length)throw new TypeError("Each tab name is allowed to appear in the 'tabs' array only once")}if(t.defaultTab){if("string"!=typeof t.defaultTab)throw new TypeError("The 'defaultTab' parameter must be a String.");if(t.tabs&&-1===t.tabs.indexOf(t.defaultTab))throw new TypeError("If 'defaultTab' is specified its value must be an element of a set defined by 'tabs' option.")}if(t.selectedItemsLimit&&"number"!=typeof t.selectedItemsLimit)throw new TypeError("The 'selectedItemsLimit' parameter is not of the type Number.");if(t.selectedItems){if("object"!=typeof t.selectedItems||Array.isArray(t.selectedItems))throw new TypeError("The 'selectedItems' parameter must be an instance of an Object.");if("string"!=typeof t.selectedItems.type||-1===Z.indexOf(t.selectedItems.type))throw new TypeError("The 'selectedItems.type' parameter elements are restricted to values: "+Z.join(", ")+".");if(!Array.isArray(t.selectedItems.items))throw new TypeError("The 'selectedItems.items' parameter must be an instance of an Array type.");if(t.selectedItems.items.some((function(t){return!t.hasOwnProperty("value")})))throw new TypeError("All objects specified in 'selectedItems.items' collection must have a property called 'value'.")}if(t.mediaOptions){if("object"!=typeof t.mediaOptions||Array.isArray(t.mediaOptions))throw new TypeError("The 'mediaOptions' parameter must be an instance of an Object.");if(t.mediaOptions.libraryName&&"string"!=typeof t.mediaOptions.libraryName)throw new TypeError("The 'mediaOptions.libraryName' parameter must be an instance of a String.");if(t.mediaOptions.allowedExtensions&&"string"!=typeof t.mediaOptions.allowedExtensions)throw new TypeError("The 'mediaOptions.allowedExtensions' parameter must be an instance of a String.")}if(t.pageOptions){if("object"!=typeof t.pageOptions||Array.isArray(t.pageOptions))throw new TypeError("The 'pageOptions' parameter must be an instance of an Object.");if(t.pageOptions.rootPath&&"string"!=typeof t.pageOptions.rootPath)throw new TypeError("The 'pageOptions.rootPath' parameter must be an instance of a String.")}if(t.attachmentOptions){if("object"!=typeof t.attachmentOptions||Array.isArray(t.attachmentOptions))throw new TypeError("The 'attachmentOptions' parameter must be an instance of an Object.");if(t.attachmentOptions.allowedExtensions&&"string"!=typeof t.attachmentOptions.allowedExtensions)throw new TypeError("The 'attachmentOptions.allowedExtensions' parameter must be an instance of a String.")}},tt=function(t,e){var n={title:e.getLocalizationWithoutPrefix("kentico.components.contentselector.dialogtitle"),applyButtonText:e.getLocalizationWithoutPrefix("kentico.components.contentselector.dialog.button.apply"),tabs:Z,defaultTab:t.tabs?t.tabs[0]:Z[0],selectedItemsLimit:1,maximized:!0};return i.f.assignDefined(n,t)},et=function(t,e,n,o){var r=e.attachmentOptions,i=e.pageOptions,a=e.mediaOptions;switch(t){case"attachment":var c=n.attachmentSelector;return(null==r?void 0:r.allowedExtensions)&&(c=M(c,"allowedExtensions",encodeURIComponent(r.allowedExtensions))),{iconClassName:"icon-w-document-attachments",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.attachmentstabtitle"),url:c};case"page":return{iconClassName:"icon-w-documents",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.pagestabtitle"),url:(null==i?void 0:i.rootPath)?M(n.pageSelector,"rootPath",i.rootPath):n.pageSelector};case"media":var l=n.mediaFilesSelector;return(null==a?void 0:a.allowedExtensions)&&(l=M(l,"allowedExtensions",encodeURIComponent(a.allowedExtensions))),(null==a?void 0:a.libraryName)&&(l=M(l,"libraryName",encodeURIComponent(a.libraryName))),{iconClassName:"icon-w-media-gallery",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.mediatabtitle"),url:l}}},nt=function(){return(nt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ot=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},rt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},it=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},at=function(t){if(void 0===t)throw new TypeError("Media files selector needs to have a configuration object defined.");if("function"!=typeof t.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(t.libraryName&&"string"!=typeof t.libraryName)throw new TypeError("The 'libraryName' parameter is not of the type string.");if(t.maxFilesLimit&&"number"!=typeof t.maxFilesLimit)throw new TypeError("The 'maxFilesLimit' parameter is not of the type number.")},ct=function(){return(ct=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},lt=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ut=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},st=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},pt=function(t){if(void 0===t)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof t.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(void 0!==t.selectedValues){if(void 0===t.identifierMode)throw new TypeError("The 'selectedValues' parameter can be used only together with the 'identifierMode' specified.");if(!(t.selectedValues instanceof Array))throw new TypeError("The 'selectedValues' parameter must be an array.");if(t.selectedValues.length&&void 0===t.selectedValues[0].identifier)throw new TypeError("The 'selectedValues' parameter must contain objects with an 'identifier' variable specified.");if("guid"!==t.identifierMode&&"path"!==t.identifierMode)throw new TypeError('The \'identifierMode\' parameter must be one of the following values: "guid" or "path"')}if(void 0!==t.rootPath&&t.rootPath.lastIndexOf("/")===t.rootPath.length-1&&t.rootPath.length>1)throw new TypeError("The 'rootPath' cannot end with a slash character unless it points at the site root.")},ft=function(t,e){var n={title:D("page",1,e),identifierMode:"guid",applyButtonText:e.getLocalizationWithoutPrefix("kentico.components.pageselector.dialog.button.apply"),maximized:!1};return i.f.assignDefined(n,t)},dt=[function(t){var e=t.namespace,n=t.config,o=t.dispatch,r=t.localizationService;(e.mediaFilesSelector=e.mediaFilesSelector||{}).open=function(t){at(t);var e=t.libraryName,i=void 0===e?"":e,a=t.maxFilesLimit,c=void 0===a?1:a,l=t.allowedExtensions,u=void 0===l?null:l,s=t.selectedValues,p=void 0===s?[]:s,f=t.applyCallback,d=t.maximized,h=void 0===d||d,y=it(t,["libraryName","maxFilesLimit","allowedExtensions","selectedValues","applyCallback","maximized"]),b=M(n.selectors.dialogEndpoints.mediaFilesSelector,"libraryName",encodeURIComponent(i));u&&(b=M(b,"allowedExtensions",encodeURIComponent(u))),o(Object(z.e)(nt({title:t.title||D("media",c,r),data:{media:{libraryName:i,maxFilesLimit:c,allowedExtensions:u,selectedValues:p}},url:b,applyCallback:function(t){return ot(void 0,void 0,void 0,(function(){var e,n;return rt(this,(function(o){switch(o.label){case 0:return null===(e=t.document.querySelector("kentico-media-files"))?[3,2]:[4,e.getSelectedFiles()];case 1:return n=o.sent(),[3,3];case 2:n=[],o.label=3;case 3:return[2,f(n)]}}))}))},maximized:h,applyButtonText:r.getLocalizationWithoutPrefix("kentico.components.mediafileselector.dialog.button.apply")},y)))}},function(t){var e=t.namespace,n=t.config,o=t.dispatch,r=t.localizationService;e.pageSelector=e.pageSelector||{},e.pageSelector.open=function(t){pt(t);var e=ft(t,r),i=e.identifierMode,a=e.selectedValues,c=e.applyCallback,l=e.rootPath,u=st(e,["identifierMode","selectedValues","applyCallback","rootPath"]),s=n.selectors.dialogEndpoints.pageSelector;void 0!==l&&(s=M(s,"rootPath",l));var p={selectedValues:a,identifierMode:i,maximized:u.maximized};o(Object(z.e)(ct({url:s,applyCallback:function(t){return lt(this,void 0,void 0,(function(){var e;return ut(this,(function(n){switch(n.label){case 0:return[4,t.document.querySelector("kentico-page-selector").getSelectedPage()];case 1:return e=n.sent(),[2,c(e)]}}))}))},data:{pages:p}},u)))}},function(t){var e=t.namespace,n=t.config,o=t.dispatch,r=t.localizationService;e.attachmentSelector=e.attachmentSelector||{},e.attachmentSelector.open=function(t){F(t);var e=q(t,r),i=e.applyCallback,a=e.selectedValues,c=e.maxFilesLimit,l=e.allowedExtensions,u=U(e,["applyCallback","selectedValues","maxFilesLimit","allowedExtensions"]),s=n.selectors.dialogEndpoints.attachmentSelector;l&&(s=M(n.selectors.dialogEndpoints.attachmentSelector,"allowedExtensions",l)),o(Object(z.e)(V({url:s,data:{attachments:{selectedValues:a.map((function(t){return t.fileGuid})),pageIdentifier:n.pageIdentifier,maxFilesLimit:c,allowedExtensions:l}},applyCallback:function(t){return B(this,void 0,void 0,(function(){var e;return N(this,(function(n){switch(n.label){case 0:return[4,t.document.querySelector("kentico-attachment-selector-dialog").getSelectedAttachments()];case 1:return e=n.sent(),[2,i(e)]}}))}))},maximized:!0},u)))}},function(t){var e=t.config,n=t.namespace,o=t.localizationService;n.contentSelector=n.contentSelector||{},n.contentSelector.open=function(n){Q(n);var r=tt(n,o),i=r.applyCallback,a=r.tabs,c=r.defaultTab,l=r.selectedItemsLimit,u=r.attachmentOptions,s=r.mediaOptions,p=r.pageOptions,f=r.selectedItems,d=$(r,["applyCallback","tabs","defaultTab","selectedItemsLimit","attachmentOptions","mediaOptions","pageOptions","selectedItems"]),h=Y({tabs:a,defaultTab:c,selectedItems:f}),y=a.indexOf(h),b=a.map((function(t){return{dialogTabType:t,dialogTab:et(t,{attachmentOptions:u,pageOptions:p,mediaOptions:s},e.selectors.dialogEndpoints,o)}})),m=function(t){return J(t,{attachmentOptions:u,mediaOptions:s,pageOptions:p,selectedItemsLimit:l,selectedItems:f},e,t===h)},g=H({url:b[y].dialogTab.url,applyCallback:function(t){return W(void 0,void 0,void 0,(function(){var e;return G(this,(function(n){switch(n.label){case 0:return e=i,[4,X(t)];case 1:return[2,e.apply(void 0,[n.sent()])]}}))}))},data:{attachments:m("attachment"),pages:m("page"),media:m("media")}},d);K(t,g,{selectedItemsLimit:l,tabs:b,activeTabIndex:y})}}],ht=n(119),yt="ktc-properties-dialog",bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mt=function(t){function e(e,n,o,r,i,a,c,l,u){var s=t.call(this,n,o,r,i,yt,a,u)||this;return s.pageIdentifier=e,s.applicationPath=n,s.configurationEndpoints=o,s.metadataEndpoint=r,s.allowedOrigins=i,s.constants=a,s.featureSet=c,s.pageTemplate=l,s.selectors=u,s}return bt(e,t),e.prototype.validate=function(){if(0===this.pageIdentifier)throw new Error(Object(r.a)(s.c.LocalizationService).getLocalization("notinitialized"))},e.prototype.getComponentMarkupData=function(t){return{postedData:t,pageIdentifier:this.pageIdentifier}},e}(ht.a),gt=n(29),vt=n(120),wt=n(121),_t=n(122),kt=n(123),Ot=n(124),Tt=n(133),Pt=n(1),xt=n(2),jt=n(125),St=n(4),Et=function(){return(Et=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},It=n(126),Ct=Object(Pt.createAction)("modalDialogs/UPDATE_MARKUP",(function(t){return function(e,n){return t({dialogIndex:e,markup:n})}})),Lt=Object(Pt.createAction)("modalDialogs/INVALIDATE",(function(t){return function(e){return t({dialogIndex:e})}})),At=Object(Pt.createAction)("widgetVariants/CHANGE_PRIORITY",(function(t){return function(e,n){return t({widgetIdentifier:e,variants:n})}})),Mt=Object(Pt.createAction)("pageTemplates/UPDATE_PROPERTIES",(function(t){return function(e,n){return t({identifier:e,properties:n})}})),Rt=function(){return(Rt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},zt=function(){return(zt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Dt={identifier:null,properties:{}},Vt=n(75),Bt=function(){return(Bt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Nt=n(88),Ut=n.n(Nt),Ft=n(127),qt=function(){return(qt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ht=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ht(arguments[e]));return t},Gt=function(){return(Gt=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$t=Object(gt.c)(Gt(Gt({},Tt.a),{config:function(t){return void 0===t&&(t=null),t},pageTemplate:function(t,e){switch(void 0===t&&(t=Dt),e.type){case Object(Pt.getType)(Mt):return zt(zt({},t),{properties:e.payload.properties});default:return t}},popup:function(t,e){switch(t=Object(Vt.b)(t,e),e.type){case Object(Pt.getType)(xt.s):return Bt({},Vt.a);default:return t}},modalDialogs:function(t,e){switch(t=Object(It.a)(t,e),e.type){case Object(Pt.getType)(Ct):var n=e.payload,o=n.dialogIndex,r=n.markup;return Rt(Rt({},t),{dialogs:i.a.replaceItem(t.dialogs,Rt(Rt({},t.dialogs[o]),{markup:r}),o)});case Object(Pt.getType)(Lt):o=e.payload.dialogIndex;return Rt(Rt({},t),{dialogs:i.a.replaceItem(t.dialogs,Rt(Rt({},t.dialogs[o]),{isValid:!1}),o)});default:return t}},widgets:function(t,e){var n,o;switch(t=Object(Ft.a)(t,e),e.type){case Object(Pt.getType)(xt.c):var r=t[e.payload.widgetIdentifier];return qt(qt({},t),((n={})[e.payload.widgetIdentifier]=qt(qt({},r),{conditionType:e.payload.conditionType||r.conditionType,variants:Wt(r.variants,[e.payload.variant.identifier])}),n));case Object(Pt.getType)(At):var i=e.payload,a=i.widgetIdentifier,c=i.variants,l=(r=t[a]).variants;if(Ut()(c,l))return t;if(Ut()(Wt(c).sort(),Wt(l.slice(1)).sort()))return qt(qt({},t),((o={})[a]=qt(qt({},r),{variants:Wt([l[0]],c)}),o));throw new Error("Changing variants priority can only modify their order.");default:return t}},highlightedSection:function(t,e){switch(t=Object(jt.a)(t,e),e.type){case Object(Pt.getType)(xt.s):return e.payload.type!==St.b.SectionProperties?t:Et(Et({},t),{highlightBorder:!0,freezeHighlight:!0});case Object(Pt.getType)(xt.e):return t.freezeHighlight?Et(Et({},t),{highlightBorder:!1,freezeHighlight:!1}):t;default:return t}}})),Zt=n(0),Kt=n(8),Yt=n(38),Xt=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Jt=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Qt=function(t,e){return Xt(void 0,void 0,Promise,(function(){var n;return Jt(this,(function(o){switch(o.label){case 0:return[4,k.b.post(t,e)];case 1:return n=o.sent(),i.a.contains(n.headers["content-type"],"text/html")?[2,Promise.resolve({data:n.data,status:"invalid"})]:i.a.contains(n.headers["content-type"],"application/json")?[2,Promise.resolve({data:n.data,status:"valid"})]:[2,Promise.resolve({data:null,status:"invalid"})]}}))}))},te=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ee=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ne=function(t,e,n){return function(o,r,i){var a=i.logger;return te(void 0,void 0,void 0,(function(){var r,i;return ee(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(l=e,u=n,Xt(void 0,void 0,Promise,(function(){return Jt(this,(function(t){switch(t.label){case 0:return[4,k.b.post(l,JSON.stringify({properties:u}),{headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent().data]}}))})))];case 1:return r=c.sent(),o(Ct(t,r)),[3,3];case 2:return i=c.sent(),a.logException(i),[3,3];case 3:return[2]}var l,u}))}))}},oe=n(34),re=n(53),ie=n(54),ae=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ce=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},le=function(t,e,n){return function(o,r,i){return ae(void 0,void 0,void 0,(function(){var a;return ce(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,ie.a(t,e,n)(o,r,i)];case 1:return c.sent(),[3,3];case 2:return a=c.sent(),i.logger.logException(a),[3,3];case 3:return[2]}}))}))}},ue=function(t,e){return function(n,o,r){return ae(void 0,void 0,void 0,(function(){var i;return ce(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ie.d(t,e)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},se=function(t,e){return function(n,o,r){return ae(void 0,void 0,void 0,(function(){var i;return ce(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ie.b(t,e)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},pe=function(t,e,n,o){return function(r,i,a){return ae(void 0,void 0,void 0,(function(){var c;return ce(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,ie.c(t,e,n,o)(r,i,a)];case 1:return l.sent(),[3,3];case 2:return c=l.sent(),a.logger.logException(c),[3,3];case 3:return[2]}}))}))}},fe=function(t,e){return function(n,o,r){return ae(void 0,void 0,void 0,(function(){var i,a,c,l,u,s;return ce(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),i=o(),a=i.sections[t],[4,Object(re.a)(i,a.type,t,e)];case 1:return c=p.sent(),l=c.section,u=c.markup,[4,Object(re.b)(t,i,n)];case 2:return p.sent(),n(oe.b(a,l,u)),[3,4];case 3:return s=p.sent(),r.logger.logException(s),[3,4];case 4:return[2]}}))}))}},de=n(74),he=n.n(de),ye=n(69),be=n(16),me=n(56),ge=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ve=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},we=function(t,e,n,o){return function(r,i,a){var c=a.logger;return ge(void 0,void 0,void 0,(function(){var a,l,u,s,p,f,d,h,y,b,m,g,v;return ve(this,(function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),a=i(),l=a.widgets,u=a.widgetVariants,s=a.metadata,p=a.markups,f=a.displayedWidgetVariants,d=l[t],h=f[t],y=he()(u[h].properties),b=s.widgets[d.type],[4,be.b(b.markupUrl,y)];case 1:return m=w.sent(),p.variants[h].isDirty&&r(Object(Yt.d)(h,y,m)),g={identifier:Object(ye.a)(),name:e,properties:y,conditionTypeParameters:o},r(Object(Yt.a)(g,t,m,n)),[3,3];case 2:return v=w.sent(),c.logException(v),[3,3];case 3:return[2]}}))}))}},_e=function(t,e){return function(n,o){return ge(void 0,void 0,void 0,(function(){var r,i,a,c,l,u;return ve(this,(function(s){return r=o(),i=r.widgets,a=r.displayedWidgetVariants,c=i[t].variants,l=c.indexOf(e),(u=a[t])===e&&(u=c[l+1]||c[0]),n(Object(me.b)(u,t)),n(Object(Yt.b)(t,e)),[2]}))}))}},ke=n(45),Oe=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Te=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Pe=function(t,e,n){return function(o,r,i){return Oe(void 0,void 0,void 0,(function(){var a;return Te(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,ke.a(t,e,n)(o,r,i)];case 1:return c.sent(),[3,3];case 2:return a=c.sent(),i.logger.logException(a),[3,3];case 3:return[2]}}))}))}},xe=function(t,e){return function(n,o,r){ke.c(t,e)(n,o,r)}},je=function(t,e,n,o){return function(r,i,a){return Oe(void 0,void 0,void 0,(function(){var c;return Te(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,ke.b(t,e,n,o)(r,i,a)];case 1:return l.sent(),[3,3];case 2:return c=l.sent(),a.logger.logException(c),[3,3];case 3:return[2]}}))}))}},Se=function(t,e){return function(n,o,r){return Oe(void 0,void 0,void 0,(function(){var i;return Te(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ke.d(t,e)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},Ee=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Ie=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ce=function(t,e){return function(n,o,r){var i=r.logger,a=r.messaging;return Ee(void 0,void 0,void 0,(function(){return Ie(this,(function(o){try{n(Mt(t,e)),a.postMessage(s.b.SAVE_TEMP_CONFIGURATION,null,"*")}catch(t){i.logException(t)}return[2]}))}))}},Le=n(132),Ae=Object(Kt.a)((function(t,e){return{sectionsInArea:t.editableAreas[e.identifier].sections,dragAndDrop:t.dragAndDrop}}),(function(){return{removeSection:ue,changeSection:se}}))(Le.a),Me=n(118);!function(t){t.Properties="icon-cogwheel",t.Change="icon-l-cols-30-70"}(C||(C={}));var Re,ze,De=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ve=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Be=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changePropertiesIcon=C.Properties,e.buttonType=s.a.Properties,e}var n;return De(e,t),e.prototype.onOpenPropertiesDialog=function(){this.openModalDialog({componentIdentifier:this.identifier,dialogType:this.dialogType,showFooter:!0})},Object.defineProperty(e.prototype,"localizedButtonTooltip",{get:function(){return this.$_localizationService.getLocalization(this.buttonTooltip)},enumerable:!1,configurable:!0}),Ve([Object(Zt.c)({required:!0}),Be("design:type",String)],e.prototype,"identifier",void 0),Ve([Object(Zt.c)({required:!0}),Be("design:type",String)],e.prototype,"buttonTooltip",void 0),Ve([Object(Zt.c)({required:!0}),Be("design:type","function"==typeof(n=void 0!==St.b&&St.b)?n:Object)],e.prototype,"dialogType",void 0),Ve([Object(Zt.c)({default:!1}),Be("design:type",Boolean)],e.prototype,"isTemplateButton",void 0),Ve([Object(Zt.c)(),Be("design:type",Function)],e.prototype,"openModalDialog",void 0),e=Ve([Zt.a],e)}(Zt.d),Ue=n(7),Fe=Object(Ue.a)(Ne,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("kentico-header-button",{attrs:{"is-template-button":t.isTemplateButton,"button-type":t.buttonType},domProps:{buttonTooltip:t.localizedButtonTooltip,icon:t.changePropertiesIcon},on:{buttonClick:t.onOpenPropertiesDialog}})}),[],!1,null,null,null).exports,qe=function(){return(qe=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},He=function(t,e,n){var o,r=t.componentIdentifier,i=t.dialogType,a=e.displayedWidgetVariants,c=e.metadata,l=e.sections,u=e.widgets,p=e.pageTemplate,f=e.widgetVariants;switch(i){case St.b.WidgetProperties:o={title:c.widgets[u[r].type].name,markupUrl:c.widgets[u[r].type].propertiesFormMarkupUrl,model:f[a[r]].properties,theme:s.d.Widget};break;case St.b.SectionProperties:o={title:c.sections[l[r].type].name,markupUrl:c.sections[l[r].type].propertiesFormMarkupUrl,model:l[r].properties,theme:s.d.Section};break;case St.b.TemplateProperties:o={title:c.pageTemplates[p.identifier].name,markupUrl:c.pageTemplates[p.identifier].propertiesFormMarkupUrl,model:p.properties,theme:s.d.Template}}return qe(qe({},o),{title:n.getLocalization("widgetproperties.header",o.title)})},We=Object(Kt.a)((function(){return{}}),(function(){return{openModalDialog:new Me.a(He).openModalDialog}}))(Fe),Ge=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$e=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ze=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonType=s.a.Properties,e.propertiesDialogType=St.b.SectionProperties,e}return Ge(e,t),$e([Object(Zt.c)({required:!0}),Ze("design:type",String)],e.prototype,"sectionIdentifier",void 0),$e([Object(Zt.c)(),Ze("design:type",Boolean)],e.prototype,"showPropertiesButton",void 0),e=$e([Object(Zt.a)({components:{SectionPropertiesButton:We}})],e)}(Zt.d),Ye=Object(Ue.a)(Ke,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPropertiesButton?n("div",{staticClass:"ktc-extra-header-buttons"},[n("SectionPropertiesButton",{attrs:{identifier:t.sectionIdentifier,dialogType:t.propertiesDialogType,"button-type":t.buttonType,buttonTooltip:"section.propertiesButtonTooltip"}})],1):t._e()}),[],!1,null,null,null).exports,Xe=Object(Kt.a)((function(t,e){var n=t.sections[e.sectionIdentifier];return{showPropertiesButton:!!n&&t.metadata.sections[n.type].hasProperties}}))(Ye),Je=n(129),Qe=n(76),tn=n(31),en=n.n(tn),nn=n(39),on=n(52),rn=n(15),an=n(32),cn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ln=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},un=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},sn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonType=s.a.Personalization,e.builderConfig=k.a,e.httpClient=k.b,e}var n,o;return cn(e,t),e.prototype.onOpenPersonalizationPopup=function(){if(this.isPersonalizationOpen)this.closePopup();else{var t=this.$refs.personalizationButton;this.openPopup(this.widgetIdentifier,Object(an.b)(t.getBoundingClientRect(),rn.f),St.c.Personalization)}},e.prototype.selectVariant=function(t){this.selectWidgetVariant(this.widgetIdentifier,this.activeItemIdentifier,t.key)},e.prototype.addVariant=function(t,e,n){this.addWidgetVariant(this.widgetIdentifier,t,e,n)},e.prototype.updateVariant=function(t,e,n){this.updateWidgetConditionTypeParameters(n,t,e)},e.prototype.deleteVariant=function(t){this.removeWidgetVariant(this.widgetIdentifier,t)},e.prototype.changeVariantsOrder=function(t){this.changeVariantsPriority(this.widgetIdentifier,t)},e.prototype.onClickAway=function(){var t=this;this.$nextTick((function(){t.isPersonalizationOpen&&t.closePopup()}))},ln([Object(Zt.c)({required:!0}),un("design:type",String)],e.prototype,"widgetIdentifier",void 0),ln([Object(Zt.c)(),un("design:type",Boolean)],e.prototype,"isPersonalizationOpen",void 0),ln([Object(Zt.c)(),un("design:type",Array)],e.prototype,"popupItems",void 0),ln([Object(Zt.c)(),un("design:type","function"==typeof(n=void 0!==St.a&&St.a)?n:Object)],e.prototype,"personalizationDialogPosition",void 0),ln([Object(Zt.c)(),un("design:type",String)],e.prototype,"activeItemIdentifier",void 0),ln([Object(Zt.c)(),un("design:type",String)],e.prototype,"conditionType",void 0),ln([Object(Zt.c)(),un("design:type","function"==typeof(o=void 0!==A.Entities&&A.Entities)?o:Object)],e.prototype,"personalizationConditionTypes",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"addWidgetVariant",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"updateWidgetConditionTypeParameters",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"removeWidgetVariant",void 0),ln([Object(Zt.c)(),un("design:type",Function)],e.prototype,"closePopup",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"openPopup",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"selectWidgetVariant",void 0),ln([Object(Zt.c)(),un("design:type",Object)],e.prototype,"changeVariantsPriority",void 0),e=ln([Object(Zt.a)({mixins:[on.mixin]})],e)}(Zt.d),pn=Object(Ue.a)(sn,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("kentico-personalization-button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.onClickAway,expression:"onClickAway"}],ref:"personalizationButton",attrs:{"show-personalization-popup":t.isPersonalizationOpen,"button-type":t.buttonType},domProps:{localizationService:t.$_localizationService,builderConfig:t.builderConfig,httpClient:t.httpClient,popupItems:t.popupItems,activeItemIdentifier:t.activeItemIdentifier,personalizationPopupPosition:t.personalizationDialogPosition,personalizationConditionTypes:t.personalizationConditionTypes,conditionType:t.conditionType,selectVariant:t.selectVariant,addVariant:t.addVariant,updateVariant:t.updateVariant,deleteVariant:t.deleteVariant,changeVariantsPriority:t.changeVariantsOrder},on:{openPersonalizationPopup:t.onOpenPersonalizationPopup,closePersonalizationPopup:t.closePopup}})}),[],!1,null,null,null).exports,fn=function(t,e,n){var o=n.widgets,a=n.metadata,c=n.widgetVariants,l=Object.values(en()(c,o[e].variants));return t?function(t){var e,n=Object(r.a)(s.c.LocalizationService).getLocalization("variant.original"),o=he()(t).reverse().map((function(t,o){return t.name||(e=o),{name:t.name||n,iconClass:null,key:t.identifier,description:t.name||n,renderActionButtons:!!t.name,parameters:t.conditionTypeParameters}}));return i.a.move(o,e,o.length-1)}(l):Object(r.a)(s.c.PopUpElementsService).getWidgetElements(Object.values(a.personalizationConditionTypes))},dn=Object(Kt.a)((function(t,e){var n=e.widgetIdentifier,o=t.widgets,r=t.widgetVariants,i=t.displayedWidgetVariants,a=t.popup,c=t.metadata,l=o[n]?o[n].conditionType:null,u=n===a.componentIdentifier&&a.popupType===St.c.Personalization,s=o[n]?fn(!!l,n,t):[],p=i[n]?r[i[n]].identifier:null,f=c.personalizationConditionTypes;return{isPersonalizationOpen:u,popupItems:s,personalizationDialogPosition:a.position,activeItemIdentifier:p,conditionType:l,personalizationConditionTypes:f}}),(function(){return{addWidgetVariant:we,updateWidgetConditionTypeParameters:Yt.c,removeWidgetVariant:_e,openPopup:xt.t,closePopup:xt.f,selectWidgetVariant:nn.c,changeVariantsPriority:At}}))(pn),hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yn=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},bn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showHeaderBelow=!1,e.propertiesDialogType=St.b.WidgetProperties,e}var n;return hn(e,t),Object.defineProperty(e.prototype,"isPersonalizationAvailable",{get:function(){return k.a.featureSet.personalizationEnabled&&!i.f.isEmpty(this.personalizationConditionTypes)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerClasses",{get:function(){return{"ktc-widget-header--top":!this.showHeaderBelow,"ktc-widget-header--bottom":this.showHeaderBelow,"ktc-widget-header--hidden":!this.showWidgetHeader}},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.ensureHeaderPosition()},e.prototype.updated=function(){this.ensureHeaderPosition()},e.prototype.ensureHeaderPosition=function(){this.showHeaderBelow=this.widgetTopOffset<this.$el.clientHeight},yn([Object(Zt.c)({required:!0}),bn("design:type",String)],e.prototype,"widgetTitle",void 0),yn([Object(Zt.c)({required:!0}),bn("design:type",String)],e.prototype,"widgetIdentifier",void 0),yn([Object(Zt.c)({required:!0}),bn("design:type",Number)],e.prototype,"widgetTopOffset",void 0),yn([Object(Zt.c)(),bn("design:type",Boolean)],e.prototype,"showWidgetHeader",void 0),yn([Object(Zt.c)(),bn("design:type","function"==typeof(n=void 0!==A.Entities&&A.Entities)?n:Object)],e.prototype,"personalizationConditionTypes",void 0),yn([Object(Zt.c)(),bn("design:type",Boolean)],e.prototype,"showPropertiesButton",void 0),e=yn([Object(Zt.a)({components:{WidgetPropertiesButton:We,WidgetPersonalization:dn}})],e)}(Zt.d),gn=(n(312),n(313),Object(Ue.a)(mn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("kentico-widget-header",{class:t.headerClasses,domProps:{localizationService:t.$_localizationService,widgetTitle:t.widgetTitle},on:{removeWidget:function(e){return t.$emit(e.type)}}},[n("div",{staticClass:"ktc-extra-header-buttons",attrs:{slot:"extraHeaderButtons"},slot:"extraHeaderButtons"},[t.isPersonalizationAvailable?n("WidgetPersonalization",{attrs:{widgetIdentifier:t.widgetIdentifier}}):t._e(),t._v(" "),t.showPropertiesButton?n("WidgetPropertiesButton",{attrs:{identifier:t.widgetIdentifier,dialogType:t.propertiesDialogType,buttonTooltip:"widget.propertiesButtonTooltip"}}):t._e()],1)])}),[],!1,null,"3b8fdeb8",null).exports),vn=Object(Kt.a)((function(t,e){var n=e.widgetIdentifier,o=t.widgets,r=t.widgetSelection,i=t.dragAndDrop,a=t.highlightedWidget,c=t.metadata;return{showWidgetHeader:(a===n||r.identifier===n)&&!i.itemIdentifier,personalizationConditionTypes:c.personalizationConditionTypes,showPropertiesButton:!!o[n]&&c.widgets[o[n].type].hasEditableProperties}}))(gn),wn=n(131),_n=Object(Kt.a)((function(t,e){var n=t.dragAndDrop,o=t.widgets,r=t.popup,i=t.zones,a=t.sections,c=e.sectionIdentifier,l=e.zoneIndex,u=a[c]?a[c].zones[l]:"";return{zoneIdentifier:u,dragAndDrop:n,zone:i[u],popup:r,widgetsInZone:i[u]?i[u].widgets.map((function(t){return o[t]})):[]}}),(function(){return{removeWidget:xe,closePopup:xt.f,openPopup:nn.b}}))(wn.a),kn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),On=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kn(e,t),e=On([Object(Zt.a)({components:{WidgetZone:_n,WidgetHeader:vn}})],e)}(Qe.a),Pn=Object(Ue.a)(Tn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("WidgetZone",{attrs:{sectionIdentifier:t.sectionIdentifier,zoneIndex:t.zoneIndex,areaIdentifier:t.areaIdentifier},scopedSlots:t._u([{key:"widgetHeader",fn:function(t){var e=t.widgetTitle,o=t.widgetIdentifier,r=t.widgetTopOffset;return n("WidgetHeader",{attrs:{widgetTitle:e,widgetIdentifier:o,widgetTopOffset:r}})}}])})}),[],!1,null,null,null).exports,xn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jn=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xn(e,t),e.prototype.created=function(){this.widgetZone=Pn},e=jn([Zt.a],e)}(Object(Zt.b)(Je.a)),En=Object(Ue.a)(Sn,undefined,undefined,!1,null,null,null).exports,In=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cn=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ln=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},An=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return In(e,t),Cn([Object(Zt.c)({required:!0}),Ln("design:type",String)],e.prototype,"identifier",void 0),e=Cn([Object(Zt.a)({components:{EditableArea:Ae,SectionMarkup:En,SectionHeaderExtraButtons:Xe}})],e)}(Zt.d),Mn=Object(Ue.a)(An,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("EditableArea",{attrs:{identifier:t.identifier},scopedSlots:t._u([{key:"sectionMarkup",fn:function(e){var o=e.sectionMarkup,r=e.sectionIdentifier;return n("SectionMarkup",{attrs:{sectionMarkup:o,sectionIdentifier:r,areaIdentifier:t.identifier}})}},{key:"sectionHeaderExtraButtons",fn:function(t){var e=t.sectionIdentifier;return n("SectionHeaderExtraButtons",{attrs:{sectionIdentifier:e}})}}])})}),[],!1,null,null,null).exports,Rn=n(135),zn=n(130),Dn=Object(Kt.a)((function(t){var e=t.modalDialogs,n=t.popup;return{modalDialogs:e.dialogs.filter((function(t){return t.type===St.b.Custom})),popupType:n.popupType}}),(function(){return{selectItem:new zn.a(Pe,le).selectItem}}))(Rn.a),Vn=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Bn=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Nn=function(t,e,n){var o=this;this.setWidgetPropertiesThunk=t,this.setSectionPropertiesThunk=e,this.setPageTemplatePropertiesThunk=n,this.submitPropertiesDialogForm=function(t,e,n,r){return function(i,a,c){return Vn(o,void 0,void 0,(function(){var o,l,u,s,p,f;return Bn(this,(function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),[4,Qt(e,r)];case 1:return o=d.sent(),this.isFormValid(o)?(l=a().modalDialogs,u=l.dialogs[t],s=Object.assign({},n,o.data.properties),Ut()(n,s)?[3,3]:(p=this.getSetPropertiesThunk(u.type),[4,i(p(u.identifier,s))])):[3,4];case 2:d.sent(),d.label=3;case 3:return i(Object(nn.a)(t)),[3,5];case 4:i(Lt(t)),i(Ct(t,o.data)),d.label=5;case 5:return[3,7];case 6:return f=d.sent(),c.logger.logException(f),[3,7];case 7:return[2]}}))}))}},this.getSetPropertiesThunk=function(t){switch(t){case St.b.WidgetProperties:return o.setWidgetPropertiesThunk;case St.b.SectionProperties:return o.setSectionPropertiesThunk;case St.b.TemplateProperties:return o.setPageTemplatePropertiesThunk}},this.isFormValid=function(t){return"valid"===t.status}},Un=n(77),Fn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qn=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Hn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Wn=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Gn=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},$n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialogIndex=0,e.formChanged=!1,e}var n;return Fn(e,t),Object.defineProperty(e.prototype,"dialogConfiguration",{get:function(){return{title:this.componentName,showFooter:!0,applyButtonText:this.$_localizationService.getLocalization("widgetproperties.apply"),cancelButtonText:this.$_localizationService.getLocalization("widgetproperties.cancel"),tabs:null,theme:this.dialogTheme,showLoader:!1,dialogIndex:this.dialogIndex,openedDialogsCount:this.dialogsCount,width:"600px",maximized:!1,setPosition:!1}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modalDialogStyles",{get:function(){return this.dialogsCount>1?{}:{top:0,left:0,bottom:0,right:0,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10200}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dialogMessages",{get:function(){return{unsavedChanges:this.$_localizationService.getLocalization("modalDialog.close.confirmation"),loaderMessage:this.$_localizationService.getLocalization("modaldialogs.loading"),closeTooltip:this.$_localizationService.getLocalization("typelist.closeTooltip")}},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(t){switch(t.label){case 0:return Object(Un.a)(document),[4,this.fetchMarkup(this.dialogIndex,this.propertiesFormUrl,this.properties)];case 1:return t.sent(),[2]}}))}))},e.prototype.beforeDestroy=function(){0===this.dialogIndex&&Object(Un.b)(document)},e.prototype.onSubmitPropertiesForm=function(t){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(e){switch(e.label){case 0:return[4,this.submitDialogForm(this.dialogIndex,t.detail.configurationForm.getAttribute("action"),this.properties,t.detail.formData)];case 1:return e.sent(),[2]}}))}))},e.prototype.onFormChange=function(){this.formChanged=!0},e.prototype.onDialogClose=function(){this.closeDialog(this.dialogIndex)},e.prototype.onDialogApply=function(){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(t){switch(t.label){case 0:return[4,this.$refs.propertiesForm.validateProperties()];case 1:return t.sent(),[2]}}))}))},qn([Object(Zt.c)(),Hn("design:type",String)],e.prototype,"formMarkup",void 0),qn([Object(Zt.c)(),Hn("design:type",Object)],e.prototype,"properties",void 0),qn([Object(Zt.c)(),Hn("design:type",String)],e.prototype,"propertiesFormUrl",void 0),qn([Object(Zt.c)(),Hn("design:type",String)],e.prototype,"componentName",void 0),qn([Object(Zt.c)(),Hn("design:type",Boolean)],e.prototype,"formIsValid",void 0),qn([Object(Zt.c)(),Hn("design:type",String)],e.prototype,"dialogId",void 0),qn([Object(Zt.c)(),Hn("design:type","function"==typeof(n=void 0!==s.d&&s.d)?n:Object)],e.prototype,"dialogTheme",void 0),qn([Object(Zt.c)(),Hn("design:type",Number)],e.prototype,"dialogsCount",void 0),qn([Object(Zt.c)(),Hn("design:type",Function)],e.prototype,"closeDialog",void 0),qn([Object(Zt.c)(),Hn("design:type",Function)],e.prototype,"fetchMarkup",void 0),qn([Object(Zt.c)(),Hn("design:type",Function)],e.prototype,"submitDialogForm",void 0),e=qn([Zt.a],e)}(Zt.d),Zn=Object(Ue.a)($n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("kentico-modal-dialog",{style:t.modalDialogStyles,attrs:{id:t.dialogId},domProps:{configuration:t.dialogConfiguration,messages:t.dialogMessages,isModified:t.formChanged},on:{apply:t.onDialogApply,close:t.onDialogClose}},[n("kentico-properties-form",{ref:"propertiesForm",domProps:{localizationService:t.$_localizationService,formMarkup:t.formMarkup,componentName:t.componentName,isValid:t.formIsValid,theme:t.dialogTheme,openedDialogsCount:t.dialogsCount},on:{submitPropertiesForm:t.onSubmitPropertiesForm,formChange:t.onFormChange}})],1)}),[],!1,null,null,null).exports,Kn=Object(Kt.a)((function(t){var e=t.modalDialogs,n=e.dialogs[0];if(!n)return null;var o=n.type,r=n.markup,i=n.isValid,a=n.title,c=n.markupUrl,l=n.model;return{componentName:a,dialogId:yt,dialogType:o,dialogTheme:e.theme,formMarkup:r,properties:l,propertiesFormUrl:c,formIsValid:i,dialogsCount:e.dialogs.length}}),(function(){return{closeDialog:nn.a,fetchMarkup:ne,submitDialogForm:new Nn(Se,fe,Ce).submitPropertiesDialogForm}}))(Zn),Yn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xn=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Jn=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Qn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changeTemplateIcon=C.Change,e.buttonType=s.a.Change,e}return Yn(e,t),e.prototype.openChangeTemplatePopup=function(){this.openModalDialog({url:this.dialogUrl,data:{currentTemplateIdentifier:this.currentTemplateIdentifier},title:this.$_localizationService.getLocalization("template.change"),theme:s.d.Template,applyCallback:this.applyCallback,showFooter:!0})},e.prototype.changePageTemplate=function(t){_.postMessage(s.b.CONFIGURATION_CHANGED,null,"*"),_.postMessage(s.b.CHANGE_TEMPLATE,t,"*")},Object.defineProperty(e.prototype,"localizedButtonTooltip",{get:function(){return this.$_localizationService.getLocalization(this.buttonTooltip)},enumerable:!1,configurable:!0}),e.prototype.applyCallback=function(t){var e=t.document.querySelector(".ktc-FlatSelectedItem");if(!!!e)return{closeDialog:!1};if(e.getAttribute("data-identifier")===this.currentTemplateIdentifier)return{closeDialog:!0};var n=this.$_localizationService.getLocalization("template.change.confirmation");if(!confirm(n))return{closeDialog:!1};var o=e.dataset.identifier;return this.changePageTemplate(o),{closeDialog:!0}},Xn([Object(Zt.c)({required:!0}),Jn("design:type",String)],e.prototype,"buttonTooltip",void 0),Xn([Object(Zt.c)(),Jn("design:type",String)],e.prototype,"dialogUrl",void 0),Xn([Object(Zt.c)(),Jn("design:type",String)],e.prototype,"currentTemplateIdentifier",void 0),Xn([Object(Zt.c)(),Jn("design:type",Function)],e.prototype,"openModalDialog",void 0),e=Xn([Zt.a],e)}(Zt.d),to=Object(Ue.a)(Qn,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("kentico-header-button",{attrs:{"is-template-button":!0,"button-type":t.buttonType},domProps:{buttonTooltip:t.localizedButtonTooltip,icon:t.changeTemplateIcon},on:{buttonClick:t.openChangeTemplatePopup}})}),[],!1,null,null,null).exports,eo=Object(Kt.a)((function(t){var e=t.config,n=t.pageTemplate;return{currentTemplateIdentifier:n.configurationIdentifier?n.configurationIdentifier:n.identifier,dialogUrl:e.pageTemplate.selectorDialogEndpoint}}),(function(){return{openModalDialog:z.e}}))(to),no=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oo=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ro=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},io=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateDialogType=St.b.TemplateProperties,e}return no(e,t),oo([Object(Zt.c)({required:!0}),ro("design:type",String)],e.prototype,"templateIdentifier",void 0),oo([Object(Zt.c)({required:!0}),ro("design:type",Boolean)],e.prototype,"hasTemplate",void 0),oo([Object(Zt.c)({required:!0}),ro("design:type",Boolean)],e.prototype,"hasTemplateProperties",void 0),e=oo([Object(Zt.a)({components:{TemplatePropertiesButton:We,ChangeTemplateButton:eo}})],e)}(Zt.d),ao=(n(317),Object(Ue.a)(io,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ktc-template-header"},[t.hasTemplate?n("ChangeTemplateButton",{attrs:{buttonTooltip:"template.changebuttontooltip"}}):t._e(),t._v(" "),t.hasTemplateProperties?n("TemplatePropertiesButton",{attrs:{buttonTooltip:"template.propertiesbuttontooltip",identifier:t.templateIdentifier,isTemplateButton:!0,dialogType:t.templateDialogType}}):t._e()],1)}),[],!1,null,null,null).exports),co=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lo=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},uo=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return co(e,t),lo([Object(Zt.c)(),uo("design:type",Boolean)],e.prototype,"hasTemplate",void 0),lo([Object(Zt.c)(),uo("design:type",Boolean)],e.prototype,"hasTemplateProperties",void 0),lo([Object(Zt.c)(),uo("design:type",String)],e.prototype,"templateIdentifier",void 0),lo([Object(Zt.c)(),uo("design:type",Boolean)],e.prototype,"showPropertiesDialog",void 0),e=lo([Object(Zt.a)({components:{PropertiesDialog:Kn,TemplateButtons:ao,GlobalComponentWrapper:Dn}})],e)}(Zt.d),po=Object(Ue.a)(so,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("GlobalComponentWrapper",[t.hasTemplate||t.hasTemplateProperties?n("TemplateButtons",{attrs:{templateIdentifier:t.templateIdentifier,hasTemplate:t.hasTemplate,hasTemplateProperties:t.hasTemplateProperties}}):t._e(),t._v(" "),t.showPropertiesDialog?n("PropertiesDialog"):t._e()],1)}),[],!1,null,null,null).exports,fo=Object(Kt.a)((function(t){var e=t.config,n=t.modalDialogs,o=t.pageTemplate,r=t.metadata;return{hasTemplate:!!o&&e.pageTemplate.isSelectable,hasTemplateProperties:!!o&&o.identifier&&r.pageTemplates[o.identifier].hasProperties,templateIdentifier:o&&o.identifier,showPropertiesDialog:!!n.dialogs.length&&n.dialogs[0].type!==St.b.Custom}}))(po),ho=n(19),yo=n.n(ho),bo=".ktc-rich-text-wrapper",mo="ktc-tab-active",go=(n(398),n(399),n(89)),vo=n.n(go),wo=n(253),_o=n.n(wo),ko="kenticoMacroPlugin",Oo="removeMacro",To="updateUrlParameterMacro",Po="updateContextMacro",xo="configureMacro",jo="insertDynamicText",So="popupConfigureClose",Eo="openMacroTab",Io="openQueryTab",Co="insertUrlMacro",Lo="insertContextMacro",Ao="ktc-macro",Mo="ktc-macro-active",Ro="kenticoMacroPlugin.popup",zo="kenticoMacroPlugin.popupConfigure",Do="kenticoMacroPlugin.popupUrl",Vo="kenticoMacroPlugin.popupContext",Bo=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),this.linkType=t,this.linkURL=e,this.linkMetadata=n};!function(t){t[t.MacroPlugin=0]="MacroPlugin",t[t.LinkPlugin=1]="LinkPlugin"}(Re||(Re={})),function(t){t[t.INSERT=0]="INSERT",t[t.UPDATE=1]="UPDATE"}(ze||(ze={}));var No,Uo,Fo=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},qo=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ho=function(t,e){var n;switch(e){case Re.MacroPlugin:n="kentico.components.widget.richtext.macroplugin";break;case Re.LinkPlugin:n="kentico.components.widget.richtext.linkplugin";break;default:n=""}return Object(r.a)(s.c.LocalizationService).getLocalizationWithoutPrefix(n+"."+t)||n+"."+t},Wo=function(t){switch(t){case 0:return"page";case 1:return"media";case 2:return"attachment";default:return null}},Go=function(t,e){return Fo(void 0,void 0,Promise,(function(){var n,o,r;return qo(this,(function(i){switch(i.label){case 0:n=M(t,"linkUrl",encodeURIComponent(e)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(n)];case 2:if(!(o=i.sent()).ok)throw new Error(o.statusText);return[2,o.json()];case 3:return r=i.sent(),console.error(r),[3,4];case 4:return[2,new Bo(A.LinkType.EXTERNAL)]}}))}))},$o=function(t,e){return t&&t[e]||Ho("macroelement.urlparameterprefix",Re.MacroPlugin)+": "+e},Zo=function(t){return Ho(t,Re.MacroPlugin)},Ko=function(t,e,o,r){return n(412)({macroClass:Ao,macroType:t,macroValue:e,macroDefaultValue:o,macroDisplayValue:r})},Yo=/<input [^>]*data-macro-type="(query|pattern)[^>]*>/g,Xo=/data-macro-value="([^"]*)"/,Jo=/data-macro-default-value="([^"]*)"/,Qo=/{%\s*ResolveDynamicText\(\s*"(query|pattern)"\s*,\s*"([^"]+)"\s*,\s*"(.*?)"\s*\)\s*%}/g,tr=function(t){return t.replace(Yo,(function(t,e){return'{% ResolveDynamicText("'+e+'", "'+(t.match(Xo)[1]||"")+'", "'+_o()(t.match(Jo)[1]).replace(/"/g,'\\"')+'") %}'}))},er=function(t){t.el.querySelectorAll(".ktc-macro").forEach((function(e){e.onclick=function(){return t.kenticoMacroPlugin.showActionsPopup(e)},e.onmousedown=function(t){2===t.button&&t.stopPropagation()}}))},nr=function(){return(nr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},or=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},rr=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(or(arguments[e]));return t},ir=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ar=function(t,e,n){var o,r=((o={initialized:function(){if(t){var e=function(t,e){return t.replace(Qo,(function(t,n,o,r){return Ko(n,o,vo()(r.replace(/\\"/g,'"')),$o(e,o))}))}(t,this.opts.contextMacros);this.html.set(e)}}})["html.set"]=function(){er(this)},o.contentChanged=function(){er(this)},o),i=cr(r,e);return cr(i,n)},cr=function(t,e){var n,o;if("object"!=typeof e.events)return t;var r=nr({},t),i=nr({},e.events),a=function(t,e){var n=i[t];"function"==typeof n&&(r[t]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.call.apply(e,rr([this],t)),n.call.apply(n,rr([this],t))},delete i[t])};try{for(var c=ir(Object.entries(r)),l=c.next();!l.done;l=c.next()){var u=or(l.value,2);a(u[0],u[1])}}catch(t){n={error:t}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return nr(nr({},r),i)},lr=n(156),ur=n.n(lr),sr=(n(415),"kenticoLinkPlugin"),pr="insertLink",fr="linkEdit",dr="closeLinkPopup",hr="saveLink",yr="clearSelection",br="openContentSelection",mr="kenticoLinkPlugin.popupLink",gr=function(){return(gr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},vr={codeMirror:ur.a,pasteDeniedAttrs:["id","style"],imageAllowedTypes:["gif","png","jpg","jpeg"],quickInsertButtons:["image","video","table","ul","ol","hr"],linkEditButtons:["linkOpen",fr,"linkRemove"],toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["formatOL","formatUL","paragraphFormat","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","paragraphStyle","lineHeight","outdent","indent","quote"],buttonsVisible:2},moreRich:{buttons:[pr,"insertImage",jo,"insertVideo","insertTable","emoticons","specialCharacters","insertHR"]},moreMisc:{buttons:["undo","redo","fullscreen","selectAll","html","help"],buttonsVisible:2}}},wr=!1,_r=function(t,e,n,o){if(t){Or(t);var r=kr(t),i=function(t,e,n){return gr(gr(gr(gr({},vr),e),n),{key:ho.DEFAULTS.licenseKey,events:t,attribution:!1})}(ar(n,e,r),e,r);o&&o(i),new yo.a(t,i)}},kr=function(t){var e=t.dataset.richTextEditorConfiguration,n=window.kentico.pageBuilder.richTextEditor,o=n&&n.configurations&&n.configurations[e];return"object"==typeof o?o:{}},Or=function(t){if(!wr){var e=t.dataset,n=e.getLinkMetadataEndpointUrl,o=e.richTextEditorLicense,r=e.contextMacros;Object.assign(ho.DEFAULTS,{getLinkMetadataEndpointUrl:n,licenseKey:o},r?{contextMacros:JSON.parse(r)}:{}),wr=!0}},Tr="Kentico.FormComponents.RichText.ApplyButtonAnimation",Pr="ktc-rich-text-form-component--fullscreen",xr="ktc-btn-slide",jr=function(){function t(t,e){this.froalaEditor=t,this.formComponent=e,this.applyAndCloseButtonText=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applyandclosebutton"]}return t.prototype.initialize=function(){this.ensureSaveButton(),this.ensureFullscreen()},t.prototype.ensureSaveButton=function(){var t=this,e=document.createElement("div");e.innerHTML=n(416)({buttonText:this.applyAndCloseButtonText});var o=e.firstChild;o.addEventListener("click",(function(){t.handleFullscreenExit(),o.remove()})),document.body.appendChild(o),this.froalaEditor.tooltip.bind(this.froalaEditor.$sc,".ktc-btn-rich-text-apply"),this.ensureApplyButtonAnimation(o)},t.prototype.ensureFullscreen=function(){document.body.classList.add(Pr),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.events.focus()},t.prototype.ensureApplyButtonAnimation=function(t){localStorage.getItem(Tr)||(setTimeout((function(){t.classList.add(xr)}),300),setTimeout((function(){t.classList.remove(xr)}),3e3),localStorage.setItem(Tr,"1"))},t.prototype.handleFullscreenExit=function(){var t=this.formComponent.querySelector(".ktc-rich-text-value");this.froalaEditor.codeView.isActive()&&this.froalaEditor.codeView.toggle();var e=this.froalaEditor.html.get();t.value=tr(e),t.dispatchEvent(new Event("change")),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.destroy();var n=this.froalaEditor.$oel[0];n.innerHTML="",this.formComponent.querySelector("[data-inline-editor]").appendChild(n),document.body.classList.remove(Pr)},t}(),Sr=n(418)(),Er=function(t){return t=function(t){return t.replace(Qo,"")}(t),n(419)({html:t,froalaCss:Sr})},Ir=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cr=function(t){t&&t.toolbarButtons&&Lr(t)},Lr=function(t){var e,n;if(Array.isArray(t.toolbarButtons))t.toolbarButtons=t.toolbarButtons.filter((function(t){return"fullscreen"!==t}));else if(Ar(t.toolbarButtons))try{for(var o=Ir(Object.values(t.toolbarButtons)),r=o.next();!r.done;r=o.next()){var i=r.value;i&&i.buttons&&(i.buttons=i.buttons.filter((function(t){return"fullscreen"!==t})))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},Ar=function(t){return"object"==typeof t},Mr=function(t,e){var o=t.querySelector(".ktc-btn"),r=t.querySelector(".ktc-rich-text-value");o&&o.addEventListener("click",(function(){var e,o=t.querySelector(bo);o.classList.add("ktc-rich-text-form-component__froala"),document.body.appendChild(o),_r(o,(e=t,{toolbarInline:!1,iframe:!0,zIndex:10205,events:{initialized:function(){new jr(this,e).initialize()}},iframeStyle:n(417)()}),r.value,Cr)})),r.value=e.html,r.addEventListener("change",(function(){t.querySelector("iframe").srcdoc=Er(r.value),""===r.value?t.classList.add("ktc-rich-text-form-component--empty"):t.classList.remove("ktc-rich-text-form-component--empty")})),r.dispatchEvent(new Event("change"))},Rr=function(t,e,n){var o=new CustomEvent("updateProperty",{detail:{name:e,value:tr(n),refreshMarkup:!1}});t.dispatchEvent(o)},zr=function(){return(zr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Dr=function(){function t(t,e,n){this.commandName=t,this.commandParameters=e,this.commandIcon=n}return Object.defineProperty(t.prototype,"getPluginType",{get:function(){return null},enumerable:!1,configurable:!0}),t.prototype.register=function(){Object(ho.RegisterCommand)(this.commandName,zr(zr({},this.commandParameters),{title:null!==this.getPluginType&&this.commandParameters.title?Ho(this.commandParameters.title,this.getPluginType):this.commandParameters.title})),this.commandIcon&&Object(ho.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)},t}(),Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vr(e,t),e.prototype.register=function(){Object(ho.RegisterQuickInsertButton)(this.commandName,this.commandParameters),this.commandIcon&&Object(ho.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)},e}(Dr),Nr=".fr-toolbar",Ur="ktc-hidden",Fr=function(){document.querySelectorAll(Nr).forEach((function(t){t.classList.contains(Ur)&&t.classList.remove(Ur)}))},qr=function(t){return null!==t&&null!==t.offsetParent},Hr="insertImage",Wr=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},Gr=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},$r={title:"Insert Image",icon:Hr,focus:!0,undo:!0,refreshAfterCallback:!1,callback:function(){var t=this.image,e=this.opts;document.querySelectorAll(Nr).forEach((function(t){qr(t)&&t.classList.add(Ur)}));var n=window.kentico.modalDialog.contentSelector,o="."+e.imageAllowedTypes.join(";.");n.open({tabs:["media","attachment"],mediaOptions:{allowedExtensions:o},attachmentOptions:{allowedExtensions:o},applyCallback:function(e){var n=e.items;if(n&&n.length){var o=n[0];t.insert(o.url,!0)}Fr()},cancelCallback:function(){Fr()}})}},Zr=new Dr(Hr,$r),Kr=new Br("image",$r),Yr=[Zr,new Dr("imageReplace",{title:"Replace",focus:!1,undo:!0,refreshAfterCallback:!1,callback:function(){return Wr(this,void 0,void 0,(function(){var t,e,n,o,r,i,a,c,l,u,s,p;return Gr(this,(function(f){switch(f.label){case 0:return e=(t=this).image,n=t.opts,o=e.get(),r=o[0],i=window.kentico.modalDialog.contentSelector,a=this.opts.getLinkMetadataEndpointUrl,[4,Go(a,r.getAttribute("src"))];case 1:return c=f.sent(),l=c.linkType,u=c.linkMetadata,s=Wo(l),p="."+n.imageAllowedTypes.join(";."),i.open({tabs:["media","attachment"],selectedItems:{type:s,items:[{value:u.identifier}]},mediaOptions:{allowedExtensions:p},attachmentOptions:{allowedExtensions:p},applyCallback:function(t){var n=t.type,r=t.items;if(r&&r.length){var i=r[0];n===s&&i.fileGuid===u.identifier||e.insert(i.url,!0,null,o)}}}),[2]}}))}))}}),Kr],Xr=function(t,e){this.iconName=t,this.iconParameters=e},Jr=function(t){return t?t[0]:null},Qr=function(t,e){return Jr(t.popups.get(e))},ti=function(t,e,n,o,r,i,a){t.popups.get(e)||(!function(t,e,n,o){var r="";n.length>0&&(r+='<div class="fr-buttons">',r+=t.button.buildList(n),r+="</div>");var i={buttons:r};o&&(i.custom_layer=o),t.popups.create(e,i)}(t,e,n,a),o!==ze.INSERT&&!t.opts.toolbarInline&&t.$wp&&t.events.$on(t.$wp,"scroll",(function(){i&&i()&&t.popups.isVisible(e)&&ti(t,e,n,o,r,i,a)})));var c=o===ze.INSERT&&t.$tb||t.$sc;t.popups.refresh(e),t.popups.setContainer(e,c);var l=i?i().getBoundingClientRect():t.position.getBoundingRect(),u=l.top,s=l.left,p=l.width,f=l.height,d=s+p/2-r/2,h=u+window.pageYOffset+f;t.popups.show(e,d,h,f)},ei=function(t){t.querySelectorAll(".fr-input-line input").forEach((function(t){t.addEventListener("focus",(function(){this.value||this.classList.add("fr-not-empty")})),t.addEventListener("blur",(function(){this.value||this.classList.remove("fr-not-empty")}))}))},ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ni(e,t),Object.defineProperty(e.prototype,"getPluginType",{get:function(){return Re.LinkPlugin},enumerable:!1,configurable:!0}),e}(Dr),ri=function(t,e,n,o){void 0===e&&(e=""),void 0===n&&(n=!1),void 0===o&&(o=!1),"string"==typeof t?(this.linkText=0===t.trim().length?"":t,this.linkURL=e,this.openInNewTab=n,this.isImageLink=o):(this.linkText=t.text,this.linkURL=t.getAttribute("href")||"",this.openInNewTab="_blank"===t.target,this.isImageLink=!!t.querySelector("img"))},ii=function(){return(ii=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ai=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ci=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},li=function(t){return function(e){var n=Jr(e);n&&((this.link.get()?!t:t)?n.classList.remove("fr-hidden"):n.classList.add("fr-hidden"))}},ui={title:"command.insertlink",focus:!1,undo:!1,plugin:sr,refreshAfterCallback:!0,callback:function(t){var e=this;this.selection.save();var n=this.selection.text(),o=Jr(this.image.get()),r=!!o;if(No=new ri(n,"",!1,r),Uo=new Bo(A.LinkType.PAGE),r&&o)this.kenticoLinkPlugin.showInsertLinkPopup(No,(function(){return e.image.get()[0]}));else if(this.opts.toolbarInline)this.kenticoLinkPlugin.showInsertLinkPopup(No);else{this.kenticoLinkPlugin.showInsertLinkPopup(No,(function(){return Jr(e.$tb).querySelector('.fr-command[data-cmd="'+t+'"]')}))}}},si=new oi(pr,ui),pi=new oi("imageLink",ii(ii({},ui),{refresh:li(!0)})),fi=new Xr(dr,{NAME:"arrow-left",SVG_KEY:"back"}),di=new oi(dr,{title:"command.back",undo:!1,focus:!1,callback:function(){this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},fi),hi=new oi(hr,{title:"",undo:!0,focus:!1,callback:function(){var t=_i(this);if(t){var e=this.link.get();e&&e.removeAttribute("target"),this.link.insert(t.linkURL,t.linkText,t.openInNewTab?{target:"_blank"}:void 0),this.kenticoLinkPlugin.closeLinkConfigurationPopup()}else this.kenticoLinkPlugin.closeLinkConfigurationPopup()}}),yi=new oi(fr,{title:"command.editlink",undo:!1,focus:!1,refresh:li(!1),callback:function(){return ai(this,void 0,void 0,(function(){var t,e,n;return ci(this,(function(o){switch(o.label){case 0:return t=this.link.get(),e=new ri(t),n=this.opts.getLinkMetadataEndpointUrl,[4,Go(n,e.linkURL)];case 1:return Uo=o.sent(),this.kenticoLinkPlugin.showLinkConfigurationPopup(e,Uo),[2]}}))}))}}),bi=new oi(yr,{title:"",undo:!1,focus:!1,callback:function(){var t=Qr(this,mr),e=t.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),n=t.querySelector("input[name='linkUrl']");e.disabled=!1,e.value="",e.focus(),n.value="",Uo=null}}),mi=new oi("linkOpen",{title:"command.openlink",undo:!1,focus:!1,callback:function(){var t=this.link.get();t&&window.open(t.href,"_blank")}}),gi=new oi(br,{title:"",undo:!1,focus:!1,callback:function(){var t=window.kentico.modalDialog.contentSelector,e={applyCallback:vi(this)},n=Uo&&Uo.linkMetadata&&Uo.linkMetadata.identifier;n&&(e=ii(ii({},e),{selectedItems:{type:Wo(Uo.linkType),items:[{value:n}]}})),t.open(e)}}),vi=function(t){return function(e){var n=e.type,o=e.items;if(o&&o.length){var r=Qr(t,mr),i=t.link.get(),a=new ri(i?i.text:t.selection.text());if(!r)return;if("page"===n){var c=o[0],l=c.name,u=c.nodeGuid,s=c.url;wi(r,a,l,n,s,u)}else{var p=o[0],f=(s=p.url,l=p.name,p.fileGuid),d=p.extension;wi(r,a,d?l+d:l,n,s,f)}}}},wi=function(t,e,n,o,r,i){var a=t.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),c=t.querySelector("input[name='linkUrl']"),l=t.querySelector("input[name='linkText']");c.value=r,a.value=a.title=n,a.classList.add("fr-not-empty"),a.disabled=!0,l&&!l.value&&(l.value=n,l.classList.add("fr-not-empty")),Uo=new Bo(Oi(o),e.linkURL,{name:n,identifier:i})},_i=function(t){var e=Qr(t,mr);if(!e)return null;var n=ki(e),o=e.querySelector(".ktc-selector-item"),r=!o.disabled,i=!n.linkURL&&r?o.value:n.linkURL,a=n.linkText?n.linkText:o.value;return i?new ri(a,i,n.openInNewTab):null},ki=function(t){var e=t.querySelector("#ktc-link-popup-form"),n=new FormData(e);return{linkURL:n.get("linkUrl"),linkText:n.get("linkText"),openInNewTab:Boolean(n.get("openInNewTab")),isImageLink:!1}},Oi=function(t){switch(t){case"page":return A.LinkType.PAGE;case"media":return A.LinkType.MEDIA;case"attachment":return A.LinkType.ATTACHMENT;default:return null}},Ti=[si,pi,yi,di,bi,hi,gi,mi],Pi=(n(420),function(t){return Ho(t,Re.LinkPlugin)});function xi(t,e){Si(this,t,new Bo(A.LinkType.EXTERNAL),ze.INSERT,e)}function ji(t,e){var n=this;Si(this,t,e,ze.UPDATE,(function(){return n.link.get()}))}var Si=function(t,e,o,r,i){var a=mr;ti(t,a,t.opts.popupInsertLinkButtons,r,300,i,'<div class="ktc-configure-popup"></div>');var c=Qr(t,a);if(c){var l=o.linkType,u=c.querySelector(".ktc-configure-popup");if(u){var s=[A.LinkType.PAGE,A.LinkType.MEDIA,A.LinkType.ATTACHMENT].includes(l)?o.linkMetadata.name:null;if(l===A.LinkType.LOCAL){var p=e.linkText,f=e.openInNewTab;e=new ri(p,o.linkURL,f)}u.innerHTML=function(t,e,o,r){return n(421)({link:t||e.linkURL,linkLabel:Pi("label.link"),linkUrl:e.linkURL,linkText:e.linkText,linkTextLabel:Pi("label.text"),disableLinkInput:o===A.LinkType.PAGE||o===A.LinkType.MEDIA||o===A.LinkType.ATTACHMENT,imageLink:e.isImageLink,openInNewTabLabel:Pi("label.openinnewtab"),openInNewTab:e.openInNewTab,command:hr,clearSelectionCommand:yr,contentSelectionCommand:br,clearSelectionButtonText:Pi("actionbutton.clear"),contentSelectionButtonText:Pi("actionbutton.select"),actionButtonText:Pi(r===ze.INSERT?"actionbutton.insert":"actionbutton.save")})}(s,e,l,r),ei(c);var d=t.popups.get(a);t.accessibility.focusPopup(d)}}};function Ei(){this.popups.hide(mr)}var Ii,Ci=function(t){var e={showInsertLinkPopup:xi,showLinkConfigurationPopup:ji,closeLinkConfigurationPopup:Ei};return Object.keys(e).forEach((function(n){e[n]=e[n].bind(t)})),e},Li=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ai=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),Object.defineProperty(e.prototype,"getPluginType",{get:function(){return Re.MacroPlugin},enumerable:!1,configurable:!0}),e}(Dr);function Mi(t){var e=this,n=this.kenticoMacroPlugin.getActiveMacro();n&&n.classList.remove(Mo),t.classList.add(Mo),ti(this,Ro,this.opts.popupActionButtons,ze.UPDATE,102,(function(){return e.kenticoMacroPlugin.getActiveMacro()}))}function Ri(){this.popups.hide(Ro);var t=this.el.querySelector(".ktc-macro-active");t&&t.classList.remove(Mo)}!function(t){t.URL="query",t.CONTEXT="pattern"}(Ii||(Ii={}));var zi,Di=function(t,e,n){return function(o,r,i,a){void 0===i&&(i=""),void 0===a&&(a="");ti(this,t,e,o,300,r,'<div class="ktc-configure-popup"></div>'),Vi(this,t,o,n,i,a)}},Vi=function(t,e,o,r,i,a){void 0===o&&(o=ze.INSERT),void 0===i&&(i=""),void 0===a&&(a=""),a=a.trim().replace(/"/g,"&quot;");var c=Qr(t,e);if(c){var l=c.querySelector(".ktc-configure-popup"),u=void 0;r===Ii.URL?(l.innerHTML=function(t,e,o){return void 0===t&&(t=ze.INSERT),void 0===e&&(e=""),void 0===o&&(o=""),n(413)({value:e,defaultValue:o,actionButtonText:t===ze.INSERT?Zo("actionbutton.insert"):Zo("actionbutton.save"),defaultTextLabel:Zo("label.defaulttext"),urlParameterLabel:Zo("label.urlparameter"),command:t===ze.INSERT?Co:To})}(o,i,a),u=Io):(l.innerHTML=function(t,e,o,r){return void 0===o&&(o=""),void 0===r&&(r=""),n(414)({macros:e,macroValue:o,macroDefaultValue:r,actionButtonText:t===ze.INSERT?Zo("actionbutton.insert"):Zo("actionbutton.save"),defaultTextLabel:Zo("label.defaulttext"),macroTypeLabel:Zo("label.contactattribute"),command:t===ze.INSERT?Lo:Po})}(o,t.opts.contextMacros,i,a),u=Eo);var s=c.querySelector(".fr-command.ktc-tab-active");if(s&&s.classList.remove(mo),c.querySelector('.fr-command[data-cmd="'+u+'"]').classList.add(mo),ei(c),r===Ii.URL){var p=t.popups.get(e);t.accessibility.focusPopup(p)}}},Bi=new Xr(jo,{PATH:"m 1,12 3,-5 3,5 z m 22,0 -3,5 -3,-5 z M 8.34277,8.21484 h 7.82663 l 0.0127,2.62156 H 15.8076 C 15.6849,9.9012 15.3337,9.26855 14.7539,8.93848 14.4281,8.75651 13.9414,8.65706 13.2939,8.64014 v 6.84276 c 0,0.4782 0.0826,0.7956 0.2476,0.9522 0.1693,0.1565 0.5184,0.2348 1.0474,0.2348 V 17 H 9.95508 v -0.3301 c 0.50782,0 0.84422,-0.0783 1.00932,-0.2348 0.1692,-0.1608 0.2539,-0.4782 0.2539,-0.9522 V 8.64014 C 10.5835,8.65706 10.0968,8.75651 9.7583,8.93848 9.13623,9.27702 8.78499,9.90967 8.70459,10.8364 H 8.33008 Z M 12,19 c 2.3972,0 4.513,-1.205 5.7746,-3.0423 l 1.1063,1.8438 C 17.23,19.7576 14.7601,21 12,21 7.02944,21 3,16.9706 3,12 3,11.662 3.01863,11.3283 3.05493,11 H 5.07089 C 5.02417,11.3266 5,11.6605 5,12 c 0,3.866 3.13401,7 7,7 z M 6.2254,8.04233 C 7.48704,6.205 9.6028,5 12,5 c 3.866,0 7,3.13401 7,7 0,0.3395 0.0467,-0.3266 0,0 h 2 c 0.0363,-0.3283 0,0.338 0,0 C 21,7.02944 16.9706,3 12,3 9.23993,3 6.77005,4.24243 5.11912,6.19853 Z",template:"svg"}),Ni=new Ai(jo,{title:"command.insertdynamictext",icon:jo,focus:!1,undo:!1,plugin:ko,refreshAfterCallback:!0,callback:function(t){var e=this;this.selection.save(),zi=this.selection.text();var n=this.opts.toolbarInline?void 0:function(){return Jr(e.$tb).querySelector('.fr-command[data-cmd="'+t+'"]')};this.kenticoMacroPlugin.showConfigurationPopup(ze.INSERT,n,void 0,zi)}},Bi),Ui={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback:function(t){this.selection.restore();var e=Qr(this,zo);if(e){this.undo.saveStep();var n=e.querySelector("#ktc-macro-popup-form"),o=new FormData(n),r=t===Co?Ii.URL:Ii.CONTEXT,i=this.opts.contextMacros,a="",c="";if(r===Ii.URL){var l=o.get("urlParameterName");a=encodeURI(l),c=$o(i,l)}else r===Ii.CONTEXT&&(a=o.get("contextMacroType"),c=$o(i,a));var u=vo()(o.get("defaultText"));if(a){var s=Ko(r,a,u,c);this.html.insert(s)}this.kenticoMacroPlugin.hideConfigurationPopup()}}},Fi=new Ai("insertMacro",Ui),qi=new Ai(Co,Ui),Hi=new Ai(Lo,Ui),Wi={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback:function(t){var e=this.el.querySelector(".ktc-macro-active"),n=Qr(this,t===To?Do:t===Po?Vo:"");if(n&&e){this.undo.saveStep();var o=n.querySelector("#ktc-macro-popup-form"),r=new FormData(o),i=r.get(t===To?"urlParameterName":"contextMacroType"),a={macroValue:encodeURI(i),macroDefaultValue:vo()(r.get("defaultText"))};a.macroValue&&(e.value=$o(this.opts.contextMacros,i),Object.assign(e.dataset,a)),this.kenticoMacroPlugin.hidePopups()}}},Gi=new Ai(To,Wi),$i=new Ai(Po,Wi),Zi=new Ai(Oo,{title:"command.removemacro",icon:"remove",focus:!1,undo:!0,refreshAfterCallback:!1,callback:function(){var t=this.el.querySelector(".ktc-macro-active");t&&(this.undo.saveStep(),t.remove()),this.kenticoMacroPlugin.hideActionsPopup()}}),Ki=new Xr(xo,{NAME:"cog-wheel",SVG_KEY:"cogs"}),Yi=new Ai(xo,{title:"command.configuremacro",undo:!1,focus:!1,callback:function(){var t=this,e=function(){return t.kenticoMacroPlugin.getActiveMacro()},n=e();if(n){var o=n.dataset,r=o.macroValue,i=o.macroDefaultValue;o.macroType===Ii.URL?this.kenticoMacroPlugin.showConfigureUrlPopup(ze.UPDATE,e,r,i):this.kenticoMacroPlugin.showConfigureContextMacroPopup(ze.UPDATE,e,r,i)}}},Ki),Xi=new Xr("macro",{PATH:"M 16,16 H 22 V 18 H 16 Z M 14,6 H 22 V 8 H 14 Z M 14,11 H 22 V 13 H 14 Z M 8,5.0572534 C 6.3794438,5.0572534 5.0572534,6.3794438 5.0572534,8 5.057254,9.6205557 6.3794443,10.942747 8,10.942747 9.6205553,10.942746 10.942746,9.6205553 10.942747,8 10.942747,6.3794443 9.6205557,5.057254 8,5.0572534 Z M 14,19 H 2 C 2,19 1.99997,12 7.99997,12 14,12 14,19 14,19 Z",template:"svg"}),Ji=new Ai(Eo,{title:"command.contactattribute",icon:"macro",undo:!1,focus:!1,callback:function(){Vi(this,zo,ze.INSERT,Ii.CONTEXT,void 0,zi)}},Xi),Qi=new Xr("queryString",{PATH:"M16.456941 4.788366C14.346076 4.788366 12.619002 6.6581714 12.619002 8.943489C12.619002 8.943489 14.537971 8.943489 14.537971 8.943489C14.537971 7.8008302 15.401507 6.8659275 16.456941 6.8659275C17.512374 6.8659275 18.375911 7.8008302 18.375911 8.943489C18.375911 11.021051 15.497455 10.709418 15.497455 14.137394C15.497455 14.137394 15.497455 15.176174 15.497455 15.176174C15.497455 15.176174 17.416426 15.176174 17.416426 15.176174C17.416426 15.176174 17.416426 14.137394 17.416426 14.137394C17.416426 11.852075 20.294881 11.540442 20.294881 8.943489C20.294881 6.6581714 18.567807 4.788366 16.456941 4.788366C16.456941 4.788366 16.456941 4.788366 16.456941 4.788366M15.497455 17.253737C15.497455 17.253737 17.416426 17.253737 17.416426 17.253737C17.416426 17.253737 17.416426 19.331299 17.416426 19.331299C17.416426 19.331299 15.497455 19.331299 15.497455 19.331299C15.497455 19.331299 15.497455 17.253737 15.497455 17.253737M10.170443 4.7001474C10.170443 4.7001474 3.8418003 19.29756 3.8418003 19.29756C3.8418003 19.29756 5.8253586 19.28441 5.8253586 19.28441C5.8253586 19.28441 12.164521 4.7137829 12.164521 4.7137829",template:"svg"}),ta=new Ai(Io,{title:"command.urlparameter",icon:"queryString",undo:!1,focus:!1,callback:function(){Vi(this,zo,ze.INSERT,Ii.URL,void 0,zi)}},Qi),ea=new Xr("popupConfigureClose",{NAME:"arrow-left",SVG_KEY:"back"}),na=[Ni,Zi,Yi,new Ai(So,{title:"command.popupback",undo:!1,focus:!1,callback:function(){this.kenticoMacroPlugin.hideConfigurationPopup()}},ea),Ji,ta,Fi,qi,Hi,Gi,$i];function oa(){this.popups.isVisible(Ro)&&this.popups.hide(Ro),ia.call(this)}function ra(){return this.el.querySelector(".ktc-macro-active")}function ia(){this.popups.isVisible(Do)&&this.popups.hide(Do),this.popups.isVisible(Vo)&&this.popups.hide(Vo),this.popups.isVisible(zo)&&this.popups.hide(zo)}var aa=function(t){var e=t.opts.popupConfigureButtons;t.opts.contextMacros||e.pop();var n={getActiveMacro:ra,showActionsPopup:Mi,hideActionsPopup:Ri,showConfigureContextMacroPopup:Di(Vo,t.opts.popupEditContextMacroButtons,Ii.CONTEXT),showConfigureUrlPopup:Di(Do,t.opts.popupEditUrlMacroButtons,Ii.URL),showConfigurationPopup:Di(zo,e,Ii.URL),hideConfigurationPopup:ia,hidePopups:oa};return Object.keys(n).forEach((function(e){n[e]=n[e].bind(t)})),n},ca=function(){var t;Yr.forEach((function(t){return t.register()})),Object.assign(ho.POPUP_TEMPLATES,((t={})[Ro]="[_BUTTONS_]",t[zo]="[_BUTTONS_][_CUSTOM_LAYER_]",t["kenticoMacroPlugin.popupUrl"]="[_BUTTONS_][_CUSTOM_LAYER_]",t["kenticoMacroPlugin.popupContext"]="[_BUTTONS_][_CUSTOM_LAYER_]",t)),Object.assign(ho.DEFAULTS,{popupActionButtons:[Oo,xo],popupConfigureButtons:[So,"|",Io,Eo],popupEditUrlMacroButtons:[So,"|",Io],popupEditContextMacroButtons:[So,"|",Eo]}),na.forEach((function(t){return t.register()})),ho.PLUGINS.kenticoMacroPlugin=aa,function(){var t;Object.assign(ho.POPUP_TEMPLATES,((t={})[mr]="[_BUTTONS_][_CUSTOM_LAYER_]",t)),Object.assign(ho.DEFAULTS,{popupInsertLinkButtons:[dr,"|"]}),Ti.forEach((function(t){return t.register()})),ho.PLUGINS.kenticoLinkPlugin=Ci}()},la=function(){yo.a.MAIL_REGEX=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;var t=ho.DEFAULTS.videoInsertButtons||[];delete t[t.indexOf("videoUpload")],ca();var e=window.kentico.pageBuilder.richTextEditor,n=e&&e.plugins;n&&n.forEach((function(t){return t(yo.a)})),Object(a.e)("Kentico.InlineEditor.RichText",{init:function(t){var e=t.editor.querySelector(bo);_r(e,function(t){var e;return{toolbarInline:!0,events:(e={contentChanged:function(){Rr(t.editor,t.propertyName,this.html.get())}},e["commands.after"]=function(t){if("html"===t&&this.codeView.isActive()){var e=this.$oel[0];(null==e?void 0:e.querySelector(".fr-btn.html-switch")).textContent=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applybutton"]}},e)}}(t),t.propertyValue)},destroy:function(t){!function(t){var e=t.editor.querySelector(bo);e&&e["data-froala.editor"].destroy()}(t)}})};document.addEventListener("Kentico.FormComponents.RichText.Initialize",(function(t){var e=t.target,n=t.detail;Mr(e,n)}));var ua=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sa=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},pa=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},fa=function(t,e){return function(n,o){e(n,o,t)}},da=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ha=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ya=function(t){function e(e,n,o){return t.call(this,e,n,o)||this}var n,o,r;return ua(e,t),e.prototype.initializePageBuilder=function(e){return da(this,void 0,void 0,(function(){var n,o,r=this;return ha(this,(function(i){switch(i.label){case 0:return n=new mt(e.pageIdentifier,e.applicationPath,e.configurationEndpoints,e.metadataEndpoint,e.allowedOrigins,e.constants,e.featureSet,e.pageTemplate,e.selectors),la(),[4,t.prototype.initialize.call(this,n,(function(t){return n=t,o=e.developmentMode,r=Object(_t.a)(o),Object(gt.e)($t,n,r(Object(gt.a)(vt.a.withExtraArgument(Object(wt.a)()),Ot.a,kt.a)));var n,o,r}),fo,Mn,je,pe)];case 1:return o=i.sent(),dt.forEach((function(t){return t({namespace:window.kentico.modalDialog,config:n,dispatch:o.dispatch,localizationService:r.localizationService})})),[2]}}))}))},e=sa([Object(c.injectable)(),fa(0,Object(c.inject)(s.c.LocalizationService)),fa(1,Object(c.inject)(s.c.PageConfigurationService)),fa(2,Object(c.inject)(s.c.MessagingService)),pa("design:paramtypes",["function"==typeof(n=void 0!==A.LocalizationService&&A.LocalizationService)?n:Object,"function"==typeof(o=void 0!==l.a&&l.a)?o:Object,"function"==typeof(r=void 0!==w.a&&w.a)?r:Object])],e)}(L.a),ba=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function c(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(a,c)}l((o=o.apply(t,e||[])).next())}))},ma=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object(r.b)(I),window.kentico=window.kentico||{},window.kentico.pageBuilder={init:function(t){return ba(void 0,void 0,void 0,(function(){return ma(this,(function(e){switch(e.label){case 0:return[4,Object(r.c)(ya).initializePageBuilder(t)];case 1:return e.sent(),[2]}}))}))},registerInlineEditor:a.e},i.e.disableDocumentLinks()}});