!function(e){function t(t){for(var o,a,c=t[0],l=t[1],u=t[2],p=0,f=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(s&&s(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={3:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([255,1,0]),n()}({108:function(e,t,n){},109:function(e,t,n){},113:function(e,t,n){},255:function(e,t,n){e.exports=n(433)},256:function(e,t,n){},313:function(e,t,n){"use strict";var o=n(108);n.n(o).a},314:function(e,t,n){"use strict";var o=n(109);n.n(o).a},318:function(e,t,n){"use strict";var o=n(113);n.n(o).a},322:function(e,t){},324:function(e,t){},356:function(e,t){},357:function(e,t){},399:function(e,t,n){},400:function(e,t,n){},413:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="button" class="'+(null==(__t=macroClass)?"":__t)+'" data-macro-type="'+(null==(__t=macroType)?"":__t)+'" data-macro-value="'+(null==(__t=macroValue)?"":__t)+'" \r\n    data-macro-default-value="'+__e(macroDefaultValue)+'" value="'+(null==(__t=macroDisplayValue)?"":__t)+'" />';return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},414:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <input id="ktc-configuration-url-layer-url-1" name="urlParameterName" type="text"\r\n                class="fr-link-attr '+(null==(__t=value?"fr-not-empty":"")?"":__t)+'" placeholder="" tabindex="1" dir="auto" value="'+(null==(__t=value)?"":__t)+'"><label\r\n                for="ktc-configuration-url-layer-url-1">'+(null==(__t=urlParameterLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-url-text-1" name="defaultText" type="text" class="fr-link-attr fr-not-empty"\r\n                placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=defaultValue)?"":__t)+'">\r\n            <label for="ktc-configuration-url-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},415:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='<form id="ktc-macro-popup-form" onsubmit="event.preventDefault()">\r\n    <div class="fr-layer fr-active" id="ktc-configuration-macro-layer-1" data-mouseenter-event-set="true">\r\n        <div class="fr-input-line">\r\n            <select id="ktc-configuration-macro-layer-type-1" class="ktc-select" name="contextMacroType" tabindex="1">\r\n                ',Object.keys(macros).forEach(e=>{__p+='\r\n                    <option value="'+__e(e)+'" '+(null==(__t=macroValue===e?"selected":"")?"":__t)+">"+__e(macros[e])+"</option>\r\n                "}),__p+='\r\n            </select>\r\n            <label for="ktc-configuration-macro-layer-type-1">'+(null==(__t=macroTypeLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-input-line" style="display: block;">\r\n            <input id="ktc-configuration-macro-layer-text-1" name="defaultText" type="text"\r\n                class="fr-link-attr fr-not-empty" placeholder="" tabindex="2" dir="auto"\r\n                value="'+(null==(__t=macroDefaultValue)?"":__t)+'"><label\r\n                for="ktc-configuration-macro-layer-text-1">'+(null==(__t=defaultTextLabel)?"":__t)+'</label>\r\n        </div>\r\n        <div class="fr-action-buttons">\r\n            <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="4"\r\n                type="button">\r\n                '+(null==(__t=actionButtonText)?"":__t)+"\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},417:function(e,t,n){},418:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<form id="ktc-link-popup-form" onsubmit="event.preventDefault()">\r\n  <div class="fr-layer fr-active" id="ktc-link-configuration-layer">\r\n    <div class="ktc-selector">\r\n      <div class="ktc-selector-item-name-field fr-input-line">\r\n        <input type="text" name="ktc-page-name" class="ktc-selector-item fr-link-attr '+(null==(__t=linkUrl?"fr-not-empty":"")?"":__t)+'" value="'+(null==(__t=link)?"":__t)+'" title="'+(null==(__t=link)?"":__t)+'" '+(null==(__t=disableLinkInput?"disabled":"")?"":__t)+' />\r\n        <label for="ktc-page-name">'+(null==(__t=linkLabel)?"":__t)+'</label>\r\n      </div>\r\n      <div class="ktc-selector-button-line">\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="1" data-cmd="'+(null==(__t=clearSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=clearSelectionButtonText)?"":__t)+'\r\n        </div>\r\n        <div class="fr-command fr-submit ktc-selector-btn" role="button" tabindex="2" data-cmd="'+(null==(__t=contentSelectionCommand)?"":__t)+'">\r\n          '+(null==(__t=contentSelectionButtonText)?"":__t)+'\r\n        </div>\r\n      </div>\r\n      <input name="linkUrl" value="'+(null==(__t=linkUrl)?"":__t)+'" hidden>\r\n    </div>\r\n    <div class="fr-input-line" style="display: '+(null==(__t=imageLink?"none":"block")?"":__t)+';">\r\n      <input id="ktc-configuration-url-text-1" name="linkText" type="text" class="fr-link-attr fr-not-empty"\r\n        placeholder="" tabindex="2" dir="auto" value="'+(null==(__t=linkText)?"":__t)+'">\r\n      <label for="ktc-configuration-url-text-1">'+(null==(__t=linkTextLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-checkbox-line">\r\n      <span class="fr-checkbox">\r\n        <input name="openInNewTab" class="fr-link-attr fr-not-empty" type="checkbox" id="ktc-configuration-openInNewTab"\r\n          tabindex="3" dir="auto" '+(null==(__t=openInNewTab?"checked":"")?"":__t)+'>\r\n        <span>\r\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10"\r\n            height="10" viewBox="0 0 32 32">\r\n            <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path>\r\n          </svg>\r\n        </span>\r\n      </span><label id="ktc-lbl-configuration-openInNewTab">'+(null==(__t=openInNewTabLabel)?"":__t)+'</label>\r\n    </div>\r\n    <div class="fr-action-buttons">\r\n      <button class="fr-command fr-submit" role="button" data-cmd="'+(null==(__t=command)?"":__t)+'" href="#" tabindex="3" type="button">\r\n        '+(null==(__t=actionButtonText)?"":__t)+"\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},419:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="ktc-btn-rich-text-apply" data-title="'+(null==(__t=buttonText)?"":__t)+'">\r\n    <svg class="fr-svg" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M5,16H8v3h2V14H5ZM8,8H5v2h5V5H8Zm6,11h2V16h3V14H14ZM16,8V5H14v5h5V8Z"></path>\r\n    </svg>\r\n    <span class="ktc-btn-save__label">'+(null==(__t=buttonText)?"":__t)+"</span>\r\n</button>";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},420:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+=".ktc-macro {\r\n  cursor          : pointer;\r\n  border          : 1px solid black;\r\n  border-radius   : 3px;\r\n  padding         : 0 4px;\r\n  background-color: #e5e5e5;\r\n}\r\n\r\n.ktc-macro:hover {\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.75);\r\n}\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},422:function(module,exports,__webpack_require__){var _=__webpack_require__(61);module.exports=Function(_.keys(_.templateSettings.imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="<html>\r\n<head> \r\n    <style>\r\n        "+(null==(__t=froalaCss)?"":__t)+'\r\n    </style>\r\n</head>\r\n<body class="fr-view" style="pointer-events: none;">\r\n'+(null==(__t=html)?"":__t)+"\r\n</body>\r\n</html>\r\n\r\n\r\n";return __p}.toString()).apply(void 0,_.values(_.templateSettings.imports))},424:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);n(161);var o,r=n(9),i=n(5),a=n(49),c=(n(256),n(164),n(12)),l=n(42),u=n(116),s=n(3),p=n(117),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e){function t(){return e.call(this,"kentico.pagebuilder")||this}return f(t,e),t=d([Object(c.injectable)(),h("design:paramtypes",[])],t)}(p.a),b=n(26),m=n(64),g=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(){function e(){}return e.prototype.normalizeConfiguration=function(e){var t=Object(b.normalize)(e,m.c).entities,n=i.f.isEmpty(t)?{editableAreas:{},sections:{},zones:{},widgets:{},widgetVariants:{}}:t;return n.pageTemplate=e.pageTemplate,n},e.prototype.denormalizeConfiguration=function(e){return Object(b.denormalize)({page:{editableAreas:Object.keys(e.editableAreas)},pageTemplate:e.pageTemplate},m.c,e)},e.prototype.normalizeMetadata=function(e){var t=Object(b.normalize)(e,m.b).entities;return{widgets:t.widgets||{},sections:t.sections||{},personalizationConditionTypes:t.personalizationConditionTypes||{},pageTemplates:t.pageTemplates||{}}},e=g([Object(c.injectable)()],e)}(),w=n(41),_=n(13),k=n(10),O=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},T=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},j=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},S=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.processIncomingMessage=function(t,n){var o=this;return function(r){return j(o,void 0,Promise,(function(){return S(this,(function(o){switch(o.label){case 0:return[4,e.prototype.processIncomingMessage.call(this,t,n)(r)];case 1:return o.sent(),r.data.msg!==s.b.CHANGE_TEMPLATE?[3,3]:[4,(i=r.data.template,a=r.data.guid,O(void 0,void 0,Promise,(function(){var e,t,n;return T(this,(function(o){return e=k.a.pageTemplate.changeTemplateEndpoint,(n={})[k.a.constants.editingInstanceHeader]=a,t=n,[2,k.b.post(e,i,{headers:t})]}))})))];case 2:o.sent(),Object(_.postMessage)(s.b.TEMP_CONFIGURATION_STORED,null,r.origin),o.label=3;case 3:return[2]}var i,a}))}))}},t=x([Object(c.injectable)()],t)}(w.a),I=new c.Container;I.bind(s.c.LocalizationService).to(y),I.bind(s.c.NormalizerService).to(v),I.bind(s.c.PageConfigurationService).to(l.a),I.bind(s.c.PopUpElementsService).to(u.a),I.bind(s.c.MessagingService).to(E);var C,L=n(135),A=n(6),M=function(e,t,n){return e&&R(e)+(t+"=")+n},R=function(e){return e+(e.indexOf("?")>-1?"&":"?")},z=n(22),D=function(e,t,n){var o,r=1!==t?"multiple":"single";switch(e){case"attachment":o="kentico.components.attachmentselector.dialogtitle";break;case"media":o="kentico.components.mediafileselector.dialogtitle";break;case"page":o="kentico.components.pageselector.dialogtitle"}return n.getLocalizationWithoutPrefix(o+"."+r)},V=function(){return(V=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},N=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},U=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},F=function(e){if("object"!=typeof e)throw new TypeError("Attachment selector options parameter must be an object.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.selectedValues&&!Array.isArray(e.selectedValues))throw new TypeError("The 'selectedValues' parameter must be an instance of an Array type.");if(e.maxFilesLimit&&"number"!=typeof e.maxFilesLimit&&e.maxFilesLimit<0)throw new TypeError("The 'maxFilesLimit' parameter must be of type number, greater or equal to 0.");if(e.allowedExtensions&&"string"!=typeof e.allowedExtensions)throw new TypeError("The 'allowedExtensions' parameter must be of type string.")},q=function(e,t){var n={title:D("attachment",e.maxFilesLimit||1,t),applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.attachmentselector.dialog.button.apply"),maxFilesLimit:1,selectedValues:[]};return i.f.assignDefined(n,e)},H=function(){return(H=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},W=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},G=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},$=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Z=["page","media","attachment"],K=function(e,t,n){var o=e.dispatch,r=e.localizationService,i=n.activeTabIndex,a=n.selectedItemsLimit,c=n.tabs,l=c.map((function(e){return e.dialogTabType}));if(l.length>1)o(Object(z.e)(t,c.map((function(e){return e.dialogTab})),i));else{var u=l[0];"page"===u&&(t=H(H({},t),{data:{pages:H(H({},t.data.pages),{maximized:!1})},maximized:!1})),o(Object(z.e)(H(H({},t),{title:D(u,a,r)})))}},Y=function(e){var t=e.defaultTab,n=e.selectedItems;return n&&n.type||t},X=function(e){return W(void 0,void 0,Promise,(function(){var t,n,o,r,i,a,c;return G(this,(function(l){switch(l.label){case 0:return t=function(e){return"getSelectedAttachments"in e},n=function(e){return"getSelectedFiles"in e},o=function(e){return"getSelectedPage"in e},(r=e.document.querySelector("kentico-attachment-selector-dialog,  kentico-page-selector, kentico-media-files"))?t(r)?(i={type:"attachment"},[4,r.getSelectedAttachments()]):[3,2]:[2,null];case 1:return[2,(i.items=l.sent(),i)];case 2:return o(r)?(a={type:"page"},[4,r.getSelectedPage()]):[3,4];case 3:return[2,(a.items=l.sent(),a)];case 4:return n(r)?(c={type:"media"},[4,r.getSelectedFiles()]):[3,6];case 5:return[2,(c.items=l.sent(),c)];case 6:return[2]}}))}))},J=function(e,t,n,o){var r=n.pageIdentifier,i=t.selectedItemsLimit,a=t.attachmentOptions,c=t.mediaOptions,l=t.pageOptions,u=t.selectedItems,s=u&&u.items||[];switch(e){case"attachment":return{allowedExtensions:a&&a.allowedExtensions,maxFilesLimit:i,pageIdentifier:r,selectedValues:o?s.map((function(e){return e.value})):[]};case"media":return{allowedExtensions:c&&c.allowedExtensions,libraryName:c&&c.libraryName,maxFilesLimit:i,selectedValues:o?s.map((function(e){return{fileGuid:e.value}})):[]};case"page":return{identifierMode:l&&l.identifierMode?l.identifierMode:"guid",selectedValues:o?s.map((function(e){return{identifier:e.value}})):[],maximized:!0}}},Q=function(e){if("object"!=typeof e)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.tabs){if(!Array.isArray(e.tabs))throw new TypeError("The 'tabs' parameter must be an instance of an array of Strings.");if(e.tabs.length>Z.length)throw new TypeError("Maximum allowed length of 'tabs' array is restricted to "+Z.length+".");var t=i.a.getUniqueValues(e.tabs);if(t.filter((function(e){return-1===Z.indexOf(e)})).length)throw new TypeError("The 'tabs' parameter elements are restricted to values: "+Z.join(", "));if(t.length<e.tabs.length)throw new TypeError("Each tab name is allowed to appear in the 'tabs' array only once")}if(e.defaultTab){if("string"!=typeof e.defaultTab)throw new TypeError("The 'defaultTab' parameter must be a String.");if(e.tabs&&-1===e.tabs.indexOf(e.defaultTab))throw new TypeError("If 'defaultTab' is specified its value must be an element of a set defined by 'tabs' option.")}if(e.selectedItemsLimit&&"number"!=typeof e.selectedItemsLimit)throw new TypeError("The 'selectedItemsLimit' parameter is not of the type Number.");if(e.selectedItems){if("object"!=typeof e.selectedItems||Array.isArray(e.selectedItems))throw new TypeError("The 'selectedItems' parameter must be an instance of an Object.");if("string"!=typeof e.selectedItems.type||-1===Z.indexOf(e.selectedItems.type))throw new TypeError("The 'selectedItems.type' parameter elements are restricted to values: "+Z.join(", ")+".");if(!Array.isArray(e.selectedItems.items))throw new TypeError("The 'selectedItems.items' parameter must be an instance of an Array type.");if(e.selectedItems.items.some((function(e){return!e.hasOwnProperty("value")})))throw new TypeError("All objects specified in 'selectedItems.items' collection must have a property called 'value'.")}if(e.mediaOptions){if("object"!=typeof e.mediaOptions||Array.isArray(e.mediaOptions))throw new TypeError("The 'mediaOptions' parameter must be an instance of an Object.");if(e.mediaOptions.libraryName&&"string"!=typeof e.mediaOptions.libraryName)throw new TypeError("The 'mediaOptions.libraryName' parameter must be an instance of a String.");if(e.mediaOptions.allowedExtensions&&"string"!=typeof e.mediaOptions.allowedExtensions)throw new TypeError("The 'mediaOptions.allowedExtensions' parameter must be an instance of a String.")}if(e.pageOptions){if("object"!=typeof e.pageOptions||Array.isArray(e.pageOptions))throw new TypeError("The 'pageOptions' parameter must be an instance of an Object.");if(e.pageOptions.rootPath&&"string"!=typeof e.pageOptions.rootPath)throw new TypeError("The 'pageOptions.rootPath' parameter must be an instance of a String.")}if(e.attachmentOptions){if("object"!=typeof e.attachmentOptions||Array.isArray(e.attachmentOptions))throw new TypeError("The 'attachmentOptions' parameter must be an instance of an Object.");if(e.attachmentOptions.allowedExtensions&&"string"!=typeof e.attachmentOptions.allowedExtensions)throw new TypeError("The 'attachmentOptions.allowedExtensions' parameter must be an instance of a String.")}},ee=function(e,t){var n={title:t.getLocalizationWithoutPrefix("kentico.components.contentselector.dialogtitle"),applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.contentselector.dialog.button.apply"),tabs:Z,defaultTab:e.tabs?e.tabs[0]:Z[0],selectedItemsLimit:1,maximized:!0};return i.f.assignDefined(n,e)},te=function(e,t,n,o){var r=t.attachmentOptions,i=t.pageOptions,a=t.mediaOptions;switch(e){case"attachment":var c=n.attachmentSelector;return(null==r?void 0:r.allowedExtensions)&&(c=M(c,"allowedExtensions",encodeURIComponent(r.allowedExtensions))),{iconClassName:"icon-w-document-attachments",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.attachmentstabtitle"),url:c};case"page":return{iconClassName:"icon-w-documents",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.pagestabtitle"),url:(null==i?void 0:i.rootPath)?M(n.pageSelector,"rootPath",i.rootPath):n.pageSelector};case"media":var l=n.mediaFilesSelector;return(null==a?void 0:a.allowedExtensions)&&(l=M(l,"allowedExtensions",encodeURIComponent(a.allowedExtensions))),(null==a?void 0:a.libraryName)&&(l=M(l,"libraryName",encodeURIComponent(a.libraryName))),{iconClassName:"icon-w-media-gallery",title:o.getLocalizationWithoutPrefix("kentico.components.contentselector.mediatabtitle"),url:l}}},ne=function(){return(ne=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},oe=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},re=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ie=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},ae=function(e){if(void 0===e)throw new TypeError("Media files selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(e.libraryName&&"string"!=typeof e.libraryName)throw new TypeError("The 'libraryName' parameter is not of the type string.");if(e.maxFilesLimit&&"number"!=typeof e.maxFilesLimit)throw new TypeError("The 'maxFilesLimit' parameter is not of the type number.")},ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},le=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},ue=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},se=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},pe=function(e){if(void 0===e)throw new TypeError("Page selector needs to have a configuration object defined.");if("function"!=typeof e.applyCallback)throw new TypeError("The 'applyCallback' parameter must be an instance of a Function type.");if(void 0!==e.selectedValues){if(void 0===e.identifierMode)throw new TypeError("The 'selectedValues' parameter can be used only together with the 'identifierMode' specified.");if(!(e.selectedValues instanceof Array))throw new TypeError("The 'selectedValues' parameter must be an array.");if(e.selectedValues.length&&void 0===e.selectedValues[0].identifier)throw new TypeError("The 'selectedValues' parameter must contain objects with an 'identifier' variable specified.");if("guid"!==e.identifierMode&&"path"!==e.identifierMode)throw new TypeError('The \'identifierMode\' parameter must be one of the following values: "guid" or "path"')}if(void 0!==e.rootPath&&e.rootPath.lastIndexOf("/")===e.rootPath.length-1&&e.rootPath.length>1)throw new TypeError("The 'rootPath' cannot end with a slash character unless it points at the site root.")},fe=function(e,t){var n={title:D("page",1,t),identifierMode:"guid",applyButtonText:t.getLocalizationWithoutPrefix("kentico.components.pageselector.dialog.button.apply"),maximized:!1};return i.f.assignDefined(n,e)},de=[function(e){var t=e.namespace,n=e.config,o=e.dispatch,r=e.localizationService;(t.mediaFilesSelector=t.mediaFilesSelector||{}).open=function(e){ae(e);var t=e.libraryName,i=void 0===t?"":t,a=e.maxFilesLimit,c=void 0===a?1:a,l=e.allowedExtensions,u=void 0===l?null:l,s=e.selectedValues,p=void 0===s?[]:s,f=e.applyCallback,d=e.maximized,h=void 0===d||d,y=ie(e,["libraryName","maxFilesLimit","allowedExtensions","selectedValues","applyCallback","maximized"]),b=M(n.selectors.dialogEndpoints.mediaFilesSelector,"libraryName",encodeURIComponent(i));u&&(b=M(b,"allowedExtensions",encodeURIComponent(u))),o(Object(z.e)(ne({title:e.title||D("media",c,r),data:{media:{libraryName:i,maxFilesLimit:c,allowedExtensions:u,selectedValues:p}},url:b,applyCallback:function(e){return oe(void 0,void 0,void 0,(function(){var t,n;return re(this,(function(o){switch(o.label){case 0:return null===(t=e.document.querySelector("kentico-media-files"))?[3,2]:[4,t.getSelectedFiles()];case 1:return n=o.sent(),[3,3];case 2:n=[],o.label=3;case 3:return[2,f(n)]}}))}))},maximized:h,applyButtonText:r.getLocalizationWithoutPrefix("kentico.components.mediafileselector.dialog.button.apply")},y)))}},function(e){var t=e.namespace,n=e.config,o=e.dispatch,r=e.localizationService;t.pageSelector=t.pageSelector||{},t.pageSelector.open=function(e){pe(e);var t=fe(e,r),i=t.identifierMode,a=t.selectedValues,c=t.applyCallback,l=t.rootPath,u=se(t,["identifierMode","selectedValues","applyCallback","rootPath"]),s=n.selectors.dialogEndpoints.pageSelector;void 0!==l&&(s=M(s,"rootPath",l));var p={selectedValues:a,identifierMode:i,maximized:u.maximized};o(Object(z.e)(ce({url:s,applyCallback:function(e){return le(this,void 0,void 0,(function(){var t;return ue(this,(function(n){switch(n.label){case 0:return[4,e.document.querySelector("kentico-page-selector").getSelectedPage()];case 1:return t=n.sent(),[2,c(t)]}}))}))},data:{pages:p}},u)))}},function(e){var t=e.namespace,n=e.config,o=e.dispatch,r=e.localizationService;t.attachmentSelector=t.attachmentSelector||{},t.attachmentSelector.open=function(e){F(e);var t=q(e,r),i=t.applyCallback,a=t.selectedValues,c=t.maxFilesLimit,l=t.allowedExtensions,u=U(t,["applyCallback","selectedValues","maxFilesLimit","allowedExtensions"]),s=n.selectors.dialogEndpoints.attachmentSelector;l&&(s=M(n.selectors.dialogEndpoints.attachmentSelector,"allowedExtensions",l)),o(Object(z.e)(V({url:s,data:{attachments:{selectedValues:a.map((function(e){return e.fileGuid})),pageIdentifier:n.pageIdentifier,maxFilesLimit:c,allowedExtensions:l}},applyCallback:function(e){return B(this,void 0,void 0,(function(){var t;return N(this,(function(n){switch(n.label){case 0:return[4,e.document.querySelector("kentico-attachment-selector-dialog").getSelectedAttachments()];case 1:return t=n.sent(),[2,i(t)]}}))}))},maximized:!0},u)))}},function(e){var t=e.config,n=e.namespace,o=e.localizationService;n.contentSelector=n.contentSelector||{},n.contentSelector.open=function(n){Q(n);var r=ee(n,o),i=r.applyCallback,a=r.tabs,c=r.defaultTab,l=r.selectedItemsLimit,u=r.attachmentOptions,s=r.mediaOptions,p=r.pageOptions,f=r.selectedItems,d=$(r,["applyCallback","tabs","defaultTab","selectedItemsLimit","attachmentOptions","mediaOptions","pageOptions","selectedItems"]),h=Y({tabs:a,defaultTab:c,selectedItems:f}),y=a.indexOf(h),b=a.map((function(e){return{dialogTabType:e,dialogTab:te(e,{attachmentOptions:u,pageOptions:p,mediaOptions:s},t.selectors.dialogEndpoints,o)}})),m=function(e){return J(e,{attachmentOptions:u,mediaOptions:s,pageOptions:p,selectedItemsLimit:l,selectedItems:f},t,e===h)},g=H({url:b[y].dialogTab.url,applyCallback:function(e){return W(void 0,void 0,void 0,(function(){var t;return G(this,(function(n){switch(n.label){case 0:return t=i,[4,X(e)];case 1:return[2,t.apply(void 0,[n.sent()])]}}))}))},data:{attachments:m("attachment"),pages:m("page"),media:m("media")}},d);K(e,g,{selectedItemsLimit:l,tabs:b,activeTabIndex:y})}}],he=n(120),ye="ktc-properties-dialog",be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),me=function(e){function t(t,n,o,r,i,a,c,l,u){var s=e.call(this,n,o,r,i,ye,a,u)||this;return s.pageIdentifier=t,s.applicationPath=n,s.configurationEndpoints=o,s.metadataEndpoint=r,s.allowedOrigins=i,s.constants=a,s.featureSet=c,s.pageTemplate=l,s.selectors=u,s}return be(t,e),t.prototype.validate=function(){if(0===this.pageIdentifier)throw new Error(Object(r.a)(s.c.LocalizationService).getLocalization("notinitialized"))},t.prototype.getComponentMarkupData=function(e){return{postedData:e,pageIdentifier:this.pageIdentifier}},t}(he.a),ge=n(29),ve=n(121),we=n(122),_e=n(123),ke=n(124),Oe=n(125),Te=n(134),Pe=n(1),xe=n(2),je=n(126),Se=n(4),Ee=function(){return(Ee=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ie=n(127),Ce=Object(Pe.createAction)("modalDialogs/UPDATE_MARKUP",(function(e){return function(t,n){return e({dialogIndex:t,markup:n})}})),Le=Object(Pe.createAction)("modalDialogs/INVALIDATE",(function(e){return function(t){return e({dialogIndex:t})}})),Ae=Object(Pe.createAction)("widgetVariants/CHANGE_PRIORITY",(function(e){return function(t,n){return e({widgetIdentifier:t,variants:n})}})),Me=Object(Pe.createAction)("pageTemplates/UPDATE_PROPERTIES",(function(e){return function(t,n){return e({identifier:t,properties:n})}})),Re=function(){return(Re=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},De={identifier:null,properties:{}},Ve=n(76),Be=function(){return(Be=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ne=n(89),Ue=n.n(Ne),Fe=n(128),qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},He=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},We=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(He(arguments[t]));return e},Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$e=Object(ge.c)(Ge(Ge({},Te.a),{config:function(e){return void 0===e&&(e=null),e},pageTemplate:function(e,t){switch(void 0===e&&(e=De),t.type){case Object(Pe.getType)(Me):return ze(ze({},e),{properties:t.payload.properties});default:return e}},popup:function(e,t){switch(e=Object(Ve.b)(e,t),t.type){case Object(Pe.getType)(xe.s):return Be({},Ve.a);default:return e}},modalDialogs:function(e,t){switch(e=Object(Ie.a)(e,t),t.type){case Object(Pe.getType)(Ce):var n=t.payload,o=n.dialogIndex,r=n.markup;return Re(Re({},e),{dialogs:i.a.replaceItem(e.dialogs,Re(Re({},e.dialogs[o]),{markup:r}),o)});case Object(Pe.getType)(Le):o=t.payload.dialogIndex;return Re(Re({},e),{dialogs:i.a.replaceItem(e.dialogs,Re(Re({},e.dialogs[o]),{isValid:!1}),o)});default:return e}},widgets:function(e,t){var n,o;switch(e=Object(Fe.a)(e,t),t.type){case Object(Pe.getType)(xe.c):var r=e[t.payload.widgetIdentifier];return qe(qe({},e),((n={})[t.payload.widgetIdentifier]=qe(qe({},r),{conditionType:t.payload.conditionType||r.conditionType,variants:We(r.variants,[t.payload.variant.identifier])}),n));case Object(Pe.getType)(Ae):var i=t.payload,a=i.widgetIdentifier,c=i.variants,l=(r=e[a]).variants;if(Ue()(c,l))return e;if(Ue()(We(c).sort(),We(l.slice(1)).sort()))return qe(qe({},e),((o={})[a]=qe(qe({},r),{variants:We([l[0]],c)}),o));throw new Error("Changing variants priority can only modify their order.");default:return e}},highlightedSection:function(e,t){switch(e=Object(je.a)(e,t),t.type){case Object(Pe.getType)(xe.s):return t.payload.type!==Se.b.SectionProperties?e:Ee(Ee({},e),{highlightBorder:!0,freezeHighlight:!0});case Object(Pe.getType)(xe.e):return e.freezeHighlight?Ee(Ee({},e),{highlightBorder:!1,freezeHighlight:!1}):e;default:return e}}})),Ze=n(0),Ke=n(8),Ye=n(39),Xe=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Je=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Qe=function(e,t){return Xe(void 0,void 0,Promise,(function(){var n;return Je(this,(function(o){switch(o.label){case 0:return[4,k.b.post(e,t)];case 1:return n=o.sent(),i.a.contains(n.headers["content-type"],"text/html")?[2,Promise.resolve({data:n.data,status:"invalid"})]:i.a.contains(n.headers["content-type"],"application/json")?[2,Promise.resolve({data:n.data,status:"valid"})]:[2,Promise.resolve({data:null,status:"invalid"})]}}))}))},et=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},tt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},nt=function(e,t,n){return function(o,r,i){var a=i.logger;return et(void 0,void 0,void 0,(function(){var r,i;return tt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(l=t,u=n,Xe(void 0,void 0,Promise,(function(){return Je(this,(function(e){switch(e.label){case 0:return[4,k.b.post(l,JSON.stringify({properties:u}),{headers:{"Content-Type":"application/json"}})];case 1:return[2,e.sent().data]}}))})))];case 1:return r=c.sent(),o(Ce(e,r)),[3,3];case 2:return i=c.sent(),a.logException(i),[3,3];case 3:return[2]}var l,u}))}))}},ot=n(35),rt=n(54),it=n(55),at=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},ct=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},lt=function(e,t,n){return function(o,r,i){return at(void 0,void 0,void 0,(function(){var a;return ct(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,it.a(e,t,n)(o,r,i)];case 1:return c.sent(),[3,3];case 2:return a=c.sent(),i.logger.logException(a),[3,3];case 3:return[2]}}))}))}},ut=function(e,t){return function(n,o,r){return at(void 0,void 0,void 0,(function(){var i;return ct(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,it.d(e,t)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},st=function(e,t){return function(n,o,r){return at(void 0,void 0,void 0,(function(){var i;return ct(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,it.b(e,t)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},pt=function(e,t,n,o){return function(r,i,a){return at(void 0,void 0,void 0,(function(){var c;return ct(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,it.c(e,t,n,o)(r,i,a)];case 1:return l.sent(),[3,3];case 2:return c=l.sent(),a.logger.logException(c),[3,3];case 3:return[2]}}))}))}},ft=function(e,t){return function(n,o,r){return at(void 0,void 0,void 0,(function(){var i,a,c,l,u,s;return ct(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),i=o(),a=i.sections[e],[4,Object(rt.a)(i,a.type,e,t)];case 1:return c=p.sent(),l=c.section,u=c.markup,[4,Object(rt.b)(e,i,n)];case 2:return p.sent(),n(ot.b(a,l,u)),[3,4];case 3:return s=p.sent(),r.logger.logException(s),[3,4];case 4:return[2]}}))}))}},dt=n(75),ht=n.n(dt),yt=n(70),bt=n(16),mt=n(57),gt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},vt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},wt=function(e,t,n,o){return function(r,i,a){var c=a.logger;return gt(void 0,void 0,void 0,(function(){var a,l,u,s,p,f,d,h,y,b,m,g,v;return vt(this,(function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),a=i(),l=a.widgets,u=a.widgetVariants,s=a.metadata,p=a.markups,f=a.displayedWidgetVariants,d=l[e],h=f[e],y=ht()(u[h].properties),b=s.widgets[d.type],[4,bt.b(b.markupUrl,y)];case 1:return m=w.sent(),p.variants[h].isDirty&&r(Object(Ye.d)(h,y,m)),g={identifier:Object(yt.a)(),name:t,properties:y,conditionTypeParameters:o},r(Object(Ye.a)(g,e,m,n)),[3,3];case 2:return v=w.sent(),c.logException(v),[3,3];case 3:return[2]}}))}))}},_t=function(e,t){return function(n,o){return gt(void 0,void 0,void 0,(function(){var r,i,a,c,l,u;return vt(this,(function(s){return r=o(),i=r.widgets,a=r.displayedWidgetVariants,c=i[e].variants,l=c.indexOf(t),(u=a[e])===t&&(u=c[l+1]||c[0]),n(Object(mt.b)(u,e)),n(Object(Ye.b)(e,t)),[2]}))}))}},kt=n(46),Ot=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Tt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Pt=function(e,t,n){return function(o,r,i){return Ot(void 0,void 0,void 0,(function(){var a;return Tt(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,kt.a(e,t,n)(o,r,i)];case 1:return c.sent(),[3,3];case 2:return a=c.sent(),i.logger.logException(a),[3,3];case 3:return[2]}}))}))}},xt=function(e,t){return function(n,o,r){kt.c(e,t)(n,o,r)}},jt=function(e,t,n,o){return function(r,i,a){return Ot(void 0,void 0,void 0,(function(){var c;return Tt(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,kt.b(e,t,n,o)(r,i,a)];case 1:return l.sent(),[3,3];case 2:return c=l.sent(),a.logger.logException(c),[3,3];case 3:return[2]}}))}))}},St=function(e,t){return function(n,o,r){return Ot(void 0,void 0,void 0,(function(){var i;return Tt(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,kt.d(e,t)(n,o,r)];case 1:return a.sent(),[3,3];case 2:return i=a.sent(),r.logger.logException(i),[3,3];case 3:return[2]}}))}))}},Et=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},It=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ct=function(e,t){return function(n,o,r){var i=r.logger,a=r.messaging;return Et(void 0,void 0,void 0,(function(){return It(this,(function(o){try{n(Me(e,t)),a.postMessage(s.b.SAVE_TEMP_CONFIGURATION,null,"*")}catch(e){i.logException(e)}return[2]}))}))}},Lt=n(133),At=Object(Ke.a)((function(e,t){return{sectionsInArea:e.editableAreas[t.identifier].sections,dragAndDrop:e.dragAndDrop}}),(function(){return{removeSection:ut,changeSection:st}}))(Lt.a),Mt=n(119);!function(e){e.Properties="icon-cogwheel",e.Change="icon-l-cols-30-70"}(C||(C={}));var Rt,zt,Dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vt=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changePropertiesIcon=C.Properties,t.buttonType=s.a.Properties,t}var n;return Dt(t,e),t.prototype.onOpenPropertiesDialog=function(){this.openModalDialog({componentIdentifier:this.identifier,dialogType:this.dialogType,showFooter:!0})},Object.defineProperty(t.prototype,"localizedButtonTooltip",{get:function(){return this.$_localizationService.getLocalization(this.buttonTooltip)},enumerable:!1,configurable:!0}),Vt([Object(Ze.c)({required:!0}),Bt("design:type",String)],t.prototype,"identifier",void 0),Vt([Object(Ze.c)({required:!0}),Bt("design:type",String)],t.prototype,"buttonTooltip",void 0),Vt([Object(Ze.c)({required:!0}),Bt("design:type","function"==typeof(n=void 0!==Se.b&&Se.b)?n:Object)],t.prototype,"dialogType",void 0),Vt([Object(Ze.c)({default:!1}),Bt("design:type",Boolean)],t.prototype,"isTemplateButton",void 0),Vt([Object(Ze.c)(),Bt("design:type",Function)],t.prototype,"openModalDialog",void 0),t=Vt([Ze.a],t)}(Ze.d),Ut=n(7),Ft=Object(Ut.a)(Nt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-header-button",{attrs:{"is-template-button":e.isTemplateButton,"button-type":e.buttonType},domProps:{buttonTooltip:e.localizedButtonTooltip,icon:e.changePropertiesIcon},on:{buttonClick:e.onOpenPropertiesDialog}})}),[],!1,null,null,null).exports,qt=function(){return(qt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ht=function(e,t,n){var o,r=e.componentIdentifier,i=e.dialogType,a=t.displayedWidgetVariants,c=t.metadata,l=t.sections,u=t.widgets,p=t.pageTemplate,f=t.widgetVariants;switch(i){case Se.b.WidgetProperties:o={title:c.widgets[u[r].type].name,markupUrl:c.widgets[u[r].type].propertiesFormMarkupUrl,model:f[a[r]].properties,theme:s.d.Widget};break;case Se.b.SectionProperties:o={title:c.sections[l[r].type].name,markupUrl:c.sections[l[r].type].propertiesFormMarkupUrl,model:l[r].properties,theme:s.d.Section};break;case Se.b.TemplateProperties:o={title:c.pageTemplates[p.identifier].name,markupUrl:c.pageTemplates[p.identifier].propertiesFormMarkupUrl,model:p.properties,theme:s.d.Template}}return qt(qt({},o),{title:n.getLocalization("widgetproperties.header",o.title)})},Wt=Object(Ke.a)((function(){return{}}),(function(){return{openModalDialog:new Mt.a(Ht).openModalDialog}}))(Ft),Gt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$t=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonType=s.a.Properties,t.propertiesDialogType=Se.b.SectionProperties,t}return Gt(t,e),$t([Object(Ze.c)({required:!0}),Zt("design:type",String)],t.prototype,"sectionIdentifier",void 0),$t([Object(Ze.c)(),Zt("design:type",Boolean)],t.prototype,"showPropertiesButton",void 0),t=$t([Object(Ze.a)({components:{SectionPropertiesButton:Wt}})],t)}(Ze.d),Yt=Object(Ut.a)(Kt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showPropertiesButton?n("div",{staticClass:"ktc-extra-header-buttons"},[n("SectionPropertiesButton",{attrs:{identifier:e.sectionIdentifier,dialogType:e.propertiesDialogType,"button-type":e.buttonType,buttonTooltip:"section.propertiesButtonTooltip"}})],1):e._e()}),[],!1,null,null,null).exports,Xt=Object(Ke.a)((function(e,t){var n=e.sections[t.sectionIdentifier];return{showPropertiesButton:!!n&&e.metadata.sections[n.type].hasProperties}}))(Yt),Jt=n(130),Qt=n(77),en=n(31),tn=n.n(en),nn=n(40),on=n(53),rn=n(15),an=n(33),cn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ln=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},un=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonType=s.a.Personalization,t.builderConfig=k.a,t.httpClient=k.b,t}var n,o;return cn(t,e),t.prototype.onOpenPersonalizationPopup=function(){if(this.isPersonalizationOpen)this.closePopup();else{var e=this.$refs.personalizationButton;this.openPopup(this.widgetIdentifier,Object(an.b)(e.getBoundingClientRect(),rn.f),Se.c.Personalization)}},t.prototype.selectVariant=function(e){this.selectWidgetVariant(this.widgetIdentifier,this.activeItemIdentifier,e.key)},t.prototype.addVariant=function(e,t,n){this.addWidgetVariant(this.widgetIdentifier,e,t,n)},t.prototype.updateVariant=function(e,t,n){this.updateWidgetConditionTypeParameters(n,e,t)},t.prototype.deleteVariant=function(e){this.removeWidgetVariant(this.widgetIdentifier,e)},t.prototype.changeVariantsOrder=function(e){this.changeVariantsPriority(this.widgetIdentifier,e)},t.prototype.onClickAway=function(){var e=this;this.$nextTick((function(){e.isPersonalizationOpen&&e.closePopup()}))},ln([Object(Ze.c)({required:!0}),un("design:type",String)],t.prototype,"widgetIdentifier",void 0),ln([Object(Ze.c)(),un("design:type",Boolean)],t.prototype,"isPersonalizationOpen",void 0),ln([Object(Ze.c)(),un("design:type",Array)],t.prototype,"popupItems",void 0),ln([Object(Ze.c)(),un("design:type","function"==typeof(n=void 0!==Se.a&&Se.a)?n:Object)],t.prototype,"personalizationDialogPosition",void 0),ln([Object(Ze.c)(),un("design:type",String)],t.prototype,"activeItemIdentifier",void 0),ln([Object(Ze.c)(),un("design:type",String)],t.prototype,"conditionType",void 0),ln([Object(Ze.c)(),un("design:type","function"==typeof(o=void 0!==A.Entities&&A.Entities)?o:Object)],t.prototype,"personalizationConditionTypes",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"addWidgetVariant",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"updateWidgetConditionTypeParameters",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"removeWidgetVariant",void 0),ln([Object(Ze.c)(),un("design:type",Function)],t.prototype,"closePopup",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"openPopup",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"selectWidgetVariant",void 0),ln([Object(Ze.c)(),un("design:type",Object)],t.prototype,"changeVariantsPriority",void 0),t=ln([Object(Ze.a)({mixins:[on.mixin]})],t)}(Ze.d),pn=Object(Ut.a)(sn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-personalization-button",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.onClickAway,expression:"onClickAway"}],ref:"personalizationButton",attrs:{"show-personalization-popup":e.isPersonalizationOpen,"button-type":e.buttonType},domProps:{localizationService:e.$_localizationService,builderConfig:e.builderConfig,httpClient:e.httpClient,popupItems:e.popupItems,activeItemIdentifier:e.activeItemIdentifier,personalizationPopupPosition:e.personalizationDialogPosition,personalizationConditionTypes:e.personalizationConditionTypes,conditionType:e.conditionType,selectVariant:e.selectVariant,addVariant:e.addVariant,updateVariant:e.updateVariant,deleteVariant:e.deleteVariant,changeVariantsPriority:e.changeVariantsOrder},on:{openPersonalizationPopup:e.onOpenPersonalizationPopup,closePersonalizationPopup:e.closePopup}})}),[],!1,null,null,null).exports,fn=function(e,t,n){var o=n.widgets,a=n.metadata,c=n.widgetVariants,l=Object.values(tn()(c,o[t].variants));return e?function(e){var t,n=Object(r.a)(s.c.LocalizationService).getLocalization("variant.original"),o=ht()(e).reverse().map((function(e,o){return e.name||(t=o),{name:e.name||n,iconClass:null,key:e.identifier,description:e.name||n,renderActionButtons:!!e.name,parameters:e.conditionTypeParameters}}));return i.a.move(o,t,o.length-1)}(l):Object(r.a)(s.c.PopUpElementsService).getWidgetElements(Object.values(a.personalizationConditionTypes))},dn=Object(Ke.a)((function(e,t){var n=t.widgetIdentifier,o=e.widgets,r=e.widgetVariants,i=e.displayedWidgetVariants,a=e.popup,c=e.metadata,l=o[n]?o[n].conditionType:null,u=n===a.componentIdentifier&&a.popupType===Se.c.Personalization,s=o[n]?fn(!!l,n,e):[],p=i[n]?r[i[n]].identifier:null,f=c.personalizationConditionTypes;return{isPersonalizationOpen:u,popupItems:s,personalizationDialogPosition:a.position,activeItemIdentifier:p,conditionType:l,personalizationConditionTypes:f}}),(function(){return{addWidgetVariant:wt,updateWidgetConditionTypeParameters:Ye.c,removeWidgetVariant:_t,openPopup:xe.t,closePopup:xe.f,selectWidgetVariant:nn.c,changeVariantsPriority:Ae}}))(pn),hn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},bn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showHeaderBelow=!1,t.propertiesDialogType=Se.b.WidgetProperties,t}var n;return hn(t,e),Object.defineProperty(t.prototype,"isPersonalizationAvailable",{get:function(){return k.a.featureSet.personalizationEnabled&&!i.f.isEmpty(this.personalizationConditionTypes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerClasses",{get:function(){return{"ktc-widget-header--top":!this.showHeaderBelow,"ktc-widget-header--bottom":this.showHeaderBelow,"ktc-widget-header--hidden":!this.showWidgetHeader}},enumerable:!1,configurable:!0}),t.prototype.mounted=function(){this.ensureHeaderPosition()},t.prototype.updated=function(){this.ensureHeaderPosition()},t.prototype.ensureHeaderPosition=function(){this.showHeaderBelow=this.widgetTopOffset<this.$el.clientHeight},yn([Object(Ze.c)({required:!0}),bn("design:type",String)],t.prototype,"widgetTitle",void 0),yn([Object(Ze.c)({required:!0}),bn("design:type",String)],t.prototype,"widgetIdentifier",void 0),yn([Object(Ze.c)({required:!0}),bn("design:type",Number)],t.prototype,"widgetTopOffset",void 0),yn([Object(Ze.c)(),bn("design:type",Boolean)],t.prototype,"showWidgetHeader",void 0),yn([Object(Ze.c)(),bn("design:type","function"==typeof(n=void 0!==A.Entities&&A.Entities)?n:Object)],t.prototype,"personalizationConditionTypes",void 0),yn([Object(Ze.c)(),bn("design:type",Boolean)],t.prototype,"showPropertiesButton",void 0),t=yn([Object(Ze.a)({components:{WidgetPropertiesButton:Wt,WidgetPersonalization:dn}})],t)}(Ze.d),gn=(n(313),n(314),Object(Ut.a)(mn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("kentico-widget-header",{class:e.headerClasses,domProps:{localizationService:e.$_localizationService,widgetTitle:e.widgetTitle},on:{removeWidget:function(t){return e.$emit(t.type)}}},[n("div",{staticClass:"ktc-extra-header-buttons",attrs:{slot:"extraHeaderButtons"},slot:"extraHeaderButtons"},[e.isPersonalizationAvailable?n("WidgetPersonalization",{attrs:{widgetIdentifier:e.widgetIdentifier}}):e._e(),e._v(" "),e.showPropertiesButton?n("WidgetPropertiesButton",{attrs:{identifier:e.widgetIdentifier,dialogType:e.propertiesDialogType,buttonTooltip:"widget.propertiesButtonTooltip"}}):e._e()],1)])}),[],!1,null,"2eb50266",null).exports),vn=Object(Ke.a)((function(e,t){var n=t.widgetIdentifier,o=e.widgets,r=e.widgetSelection,i=e.dragAndDrop,a=e.highlightedWidget,c=e.metadata;return{showWidgetHeader:(a===n||r.identifier===n)&&!i.itemIdentifier,personalizationConditionTypes:c.personalizationConditionTypes,showPropertiesButton:!!o[n]&&c.widgets[o[n].type].hasEditableProperties}}))(gn),wn=n(132),_n=Object(Ke.a)((function(e,t){var n=e.dragAndDrop,o=e.widgets,r=e.popup,i=e.zones,a=e.sections,c=t.sectionIdentifier,l=t.zoneIndex,u=a[c]?a[c].zones[l]:"";return{zoneIdentifier:u,dragAndDrop:n,zone:i[u],popup:r,widgetsInZone:i[u]?i[u].widgets.map((function(e){return o[e]})):[]}}),(function(){return{removeWidget:xt,closePopup:xe.f,openPopup:nn.b}}))(wn.a),kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),On=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kn(t,e),t=On([Object(Ze.a)({components:{WidgetZone:_n,WidgetHeader:vn}})],t)}(Qt.a),Pn=Object(Ut.a)(Tn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WidgetZone",{attrs:{sectionIdentifier:e.sectionIdentifier,zoneIndex:e.zoneIndex,areaIdentifier:e.areaIdentifier},scopedSlots:e._u([{key:"widgetHeader",fn:function(e){var t=e.widgetTitle,o=e.widgetIdentifier,r=e.widgetTopOffset;return n("WidgetHeader",{attrs:{widgetTitle:t,widgetIdentifier:o,widgetTopOffset:r}})}}])})}),[],!1,null,null,null).exports,xn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xn(t,e),t.prototype.created=function(){this.widgetZone=Pn},t=jn([Ze.a],t)}(Object(Ze.b)(Jt.a)),En=Object(Ut.a)(Sn,undefined,undefined,!1,null,null,null).exports,In=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ln=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},An=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return In(t,e),Cn([Object(Ze.c)({required:!0}),Ln("design:type",String)],t.prototype,"identifier",void 0),t=Cn([Object(Ze.a)({components:{EditableArea:At,SectionMarkup:En,SectionHeaderExtraButtons:Xt}})],t)}(Ze.d),Mn=Object(Ut.a)(An,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditableArea",{attrs:{identifier:e.identifier},scopedSlots:e._u([{key:"sectionMarkup",fn:function(t){var o=t.sectionMarkup,r=t.sectionIdentifier;return n("SectionMarkup",{attrs:{sectionMarkup:o,sectionIdentifier:r,areaIdentifier:e.identifier}})}},{key:"sectionHeaderExtraButtons",fn:function(e){var t=e.sectionIdentifier;return n("SectionHeaderExtraButtons",{attrs:{sectionIdentifier:t}})}}])})}),[],!1,null,null,null).exports,Rn=n(136),zn=n(131),Dn=Object(Ke.a)((function(e){var t=e.modalDialogs,n=e.popup;return{modalDialogs:t.dialogs.filter((function(e){return e.type===Se.b.Custom})),popupType:n.popupType}}),(function(){return{selectItem:new zn.a(Pt,lt).selectItem}}))(Rn.a),Vn=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Bn=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Nn=function(e,t,n){var o=this;this.setWidgetPropertiesThunk=e,this.setSectionPropertiesThunk=t,this.setPageTemplatePropertiesThunk=n,this.submitPropertiesDialogForm=function(e,t,n,r){return function(i,a,c){return Vn(o,void 0,void 0,(function(){var o,l,u,s,p,f;return Bn(this,(function(d){switch(d.label){case 0:return d.trys.push([0,6,,7]),[4,Qe(t,r)];case 1:return o=d.sent(),this.isFormValid(o)?(l=a().modalDialogs,u=l.dialogs[e],s=Object.assign({},n,o.data.properties),Ue()(n,s)?[3,3]:(p=this.getSetPropertiesThunk(u.type),[4,i(p(u.identifier,s))])):[3,4];case 2:d.sent(),d.label=3;case 3:return i(Object(nn.a)(e)),[3,5];case 4:i(Le(e)),i(Ce(e,o.data)),d.label=5;case 5:return[3,7];case 6:return f=d.sent(),c.logger.logException(f),[3,7];case 7:return[2]}}))}))}},this.getSetPropertiesThunk=function(e){switch(e){case Se.b.WidgetProperties:return o.setWidgetPropertiesThunk;case Se.b.SectionProperties:return o.setSectionPropertiesThunk;case Se.b.TemplateProperties:return o.setPageTemplatePropertiesThunk}},this.isFormValid=function(e){return"valid"===e.status}},Un=n(78),Fn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Hn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wn=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Gn=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},$n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogIndex=0,t.formChanged=!1,t}var n;return Fn(t,e),Object.defineProperty(t.prototype,"dialogConfiguration",{get:function(){return{title:this.componentName,showFooter:!0,applyButtonText:this.$_localizationService.getLocalization("widgetproperties.apply"),cancelButtonText:this.$_localizationService.getLocalization("widgetproperties.cancel"),tabs:null,theme:this.dialogTheme,showLoader:!1,dialogIndex:this.dialogIndex,openedDialogsCount:this.dialogsCount,width:"600px",maximized:!1,setPosition:!1}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modalDialogStyles",{get:function(){return this.dialogsCount>1?{}:{top:0,left:0,bottom:0,right:0,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10200}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dialogMessages",{get:function(){return{unsavedChanges:this.$_localizationService.getLocalization("modalDialog.close.confirmation"),loaderMessage:this.$_localizationService.getLocalization("modaldialogs.loading"),closeTooltip:this.$_localizationService.getLocalization("typelist.closeTooltip")}},enumerable:!1,configurable:!0}),t.prototype.mounted=function(){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(e){switch(e.label){case 0:return Object(Un.a)(document),[4,this.fetchMarkup(this.dialogIndex,this.propertiesFormUrl,this.properties)];case 1:return e.sent(),[2]}}))}))},t.prototype.beforeDestroy=function(){0===this.dialogIndex&&Object(Un.b)(document)},t.prototype.onSubmitPropertiesForm=function(e){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(t){switch(t.label){case 0:return[4,this.submitDialogForm(this.dialogIndex,e.detail.configurationForm.getAttribute("action"),this.properties,e.detail.formData)];case 1:return t.sent(),[2]}}))}))},t.prototype.onFormChange=function(){this.formChanged=!0},t.prototype.onDialogClose=function(){this.closeDialog(this.dialogIndex)},t.prototype.onDialogApply=function(){return Wn(this,void 0,void 0,(function(){return Gn(this,(function(e){switch(e.label){case 0:return[4,this.$refs.propertiesForm.validateProperties()];case 1:return e.sent(),[2]}}))}))},qn([Object(Ze.c)(),Hn("design:type",String)],t.prototype,"formMarkup",void 0),qn([Object(Ze.c)(),Hn("design:type",Object)],t.prototype,"properties",void 0),qn([Object(Ze.c)(),Hn("design:type",String)],t.prototype,"propertiesFormUrl",void 0),qn([Object(Ze.c)(),Hn("design:type",String)],t.prototype,"componentName",void 0),qn([Object(Ze.c)(),Hn("design:type",Boolean)],t.prototype,"formIsValid",void 0),qn([Object(Ze.c)(),Hn("design:type",String)],t.prototype,"dialogId",void 0),qn([Object(Ze.c)(),Hn("design:type","function"==typeof(n=void 0!==s.d&&s.d)?n:Object)],t.prototype,"dialogTheme",void 0),qn([Object(Ze.c)(),Hn("design:type",Number)],t.prototype,"dialogsCount",void 0),qn([Object(Ze.c)(),Hn("design:type",Function)],t.prototype,"closeDialog",void 0),qn([Object(Ze.c)(),Hn("design:type",Function)],t.prototype,"fetchMarkup",void 0),qn([Object(Ze.c)(),Hn("design:type",Function)],t.prototype,"submitDialogForm",void 0),t=qn([Ze.a],t)}(Ze.d),Zn=Object(Ut.a)($n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("kentico-modal-dialog",{style:e.modalDialogStyles,attrs:{id:e.dialogId},domProps:{configuration:e.dialogConfiguration,messages:e.dialogMessages,isModified:e.formChanged},on:{apply:e.onDialogApply,close:e.onDialogClose}},[n("kentico-properties-form",{ref:"propertiesForm",domProps:{localizationService:e.$_localizationService,formMarkup:e.formMarkup,componentName:e.componentName,isValid:e.formIsValid,theme:e.dialogTheme,openedDialogsCount:e.dialogsCount},on:{submitPropertiesForm:e.onSubmitPropertiesForm,formChange:e.onFormChange}})],1)}),[],!1,null,null,null).exports,Kn=Object(Ke.a)((function(e){var t=e.modalDialogs,n=t.dialogs[0];if(!n)return null;var o=n.type,r=n.markup,i=n.isValid,a=n.title,c=n.markupUrl,l=n.model;return{componentName:a,dialogId:ye,dialogType:o,dialogTheme:t.theme,formMarkup:r,properties:l,propertiesFormUrl:c,formIsValid:i,dialogsCount:t.dialogs.length}}),(function(){return{closeDialog:nn.a,fetchMarkup:nt,submitDialogForm:new Nn(St,ft,Ct).submitPropertiesDialogForm}}))(Zn),Yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xn=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changeTemplateIcon=C.Change,t.buttonType=s.a.Change,t}return Yn(t,e),t.prototype.openChangeTemplatePopup=function(){this.openModalDialog({url:this.dialogUrl,data:{currentTemplateIdentifier:this.currentTemplateIdentifier},title:this.$_localizationService.getLocalization("template.change"),theme:s.d.Template,applyCallback:this.applyCallback,showFooter:!0})},t.prototype.changePageTemplate=function(e){_.postMessage(s.b.CONFIGURATION_CHANGED,null,"*"),_.postMessage(s.b.CHANGE_TEMPLATE,e,"*")},Object.defineProperty(t.prototype,"localizedButtonTooltip",{get:function(){return this.$_localizationService.getLocalization(this.buttonTooltip)},enumerable:!1,configurable:!0}),t.prototype.applyCallback=function(e){var t=e.document.querySelector(".ktc-FlatSelectedItem");if(!!!t)return{closeDialog:!1};if(t.getAttribute("data-identifier")===this.currentTemplateIdentifier)return{closeDialog:!0};var n=this.$_localizationService.getLocalization("template.change.confirmation");if(!confirm(n))return{closeDialog:!1};var o=t.dataset.identifier;return this.changePageTemplate(o),{closeDialog:!0}},Xn([Object(Ze.c)({required:!0}),Jn("design:type",String)],t.prototype,"buttonTooltip",void 0),Xn([Object(Ze.c)(),Jn("design:type",String)],t.prototype,"dialogUrl",void 0),Xn([Object(Ze.c)(),Jn("design:type",String)],t.prototype,"currentTemplateIdentifier",void 0),Xn([Object(Ze.c)(),Jn("design:type",Function)],t.prototype,"openModalDialog",void 0),t=Xn([Ze.a],t)}(Ze.d),eo=Object(Ut.a)(Qn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("kentico-header-button",{attrs:{"is-template-button":!0,"button-type":e.buttonType},domProps:{buttonTooltip:e.localizedButtonTooltip,icon:e.changeTemplateIcon},on:{buttonClick:e.openChangeTemplatePopup}})}),[],!1,null,null,null).exports,to=Object(Ke.a)((function(e){var t=e.config,n=e.pageTemplate;return{currentTemplateIdentifier:n.configurationIdentifier?n.configurationIdentifier:n.identifier,dialogUrl:t.pageTemplate.selectorDialogEndpoint}}),(function(){return{openModalDialog:z.e}}))(eo),no=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ro=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateDialogType=Se.b.TemplateProperties,t}return no(t,e),oo([Object(Ze.c)({required:!0}),ro("design:type",String)],t.prototype,"templateIdentifier",void 0),oo([Object(Ze.c)({required:!0}),ro("design:type",Boolean)],t.prototype,"hasTemplate",void 0),oo([Object(Ze.c)({required:!0}),ro("design:type",Boolean)],t.prototype,"hasTemplateProperties",void 0),t=oo([Object(Ze.a)({components:{TemplatePropertiesButton:Wt,ChangeTemplateButton:to}})],t)}(Ze.d),ao=(n(318),Object(Ut.a)(io,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ktc-template-header"},[e.hasTemplate?n("ChangeTemplateButton",{attrs:{buttonTooltip:"template.changebuttontooltip"}}):e._e(),e._v(" "),e.hasTemplateProperties?n("TemplatePropertiesButton",{attrs:{buttonTooltip:"template.propertiesbuttontooltip",identifier:e.templateIdentifier,isTemplateButton:!0,dialogType:e.templateDialogType}}):e._e()],1)}),[],!1,null,null,null).exports),co=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lo=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},uo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return co(t,e),lo([Object(Ze.c)(),uo("design:type",Boolean)],t.prototype,"hasTemplate",void 0),lo([Object(Ze.c)(),uo("design:type",Boolean)],t.prototype,"hasTemplateProperties",void 0),lo([Object(Ze.c)(),uo("design:type",String)],t.prototype,"templateIdentifier",void 0),lo([Object(Ze.c)(),uo("design:type",Boolean)],t.prototype,"showPropertiesDialog",void 0),t=lo([Object(Ze.a)({components:{PropertiesDialog:Kn,TemplateButtons:ao,GlobalComponentWrapper:Dn}})],t)}(Ze.d),po=Object(Ut.a)(so,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GlobalComponentWrapper",[e.hasTemplate||e.hasTemplateProperties?n("TemplateButtons",{attrs:{templateIdentifier:e.templateIdentifier,hasTemplate:e.hasTemplate,hasTemplateProperties:e.hasTemplateProperties}}):e._e(),e._v(" "),e.showPropertiesDialog?n("PropertiesDialog"):e._e()],1)}),[],!1,null,null,null).exports,fo=Object(Ke.a)((function(e){var t=e.config,n=e.modalDialogs,o=e.pageTemplate,r=e.metadata;return{hasTemplate:!!o&&t.pageTemplate.isSelectable,hasTemplateProperties:!!o&&o.identifier&&r.pageTemplates[o.identifier].hasProperties,templateIdentifier:o&&o.identifier,showPropertiesDialog:!!n.dialogs.length&&n.dialogs[0].type!==Se.b.Custom}}))(po),ho=n(17),yo=n.n(ho),bo=".ktc-rich-text-wrapper",mo="ktc-tab-active",go=(n(399),n(400),n(90)),vo=n.n(go),wo=n(254),_o=n.n(wo),ko="kenticoMacroPlugin",Oo="removeMacro",To="updateUrlParameterMacro",Po="updateContextMacro",xo="configureMacro",jo="insertDynamicText",So="popupConfigureClose",Eo="openMacroTab",Io="openQueryTab",Co="insertUrlMacro",Lo="insertContextMacro",Ao="ktc-macro",Mo="ktc-macro-active",Ro="kenticoMacroPlugin.popup",zo="kenticoMacroPlugin.popupConfigure",Do="kenticoMacroPlugin.popupUrl",Vo="kenticoMacroPlugin.popupContext",Bo=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.linkType=e,this.linkURL=t,this.linkMetadata=n};!function(e){e[e.MacroPlugin=0]="MacroPlugin",e[e.LinkPlugin=1]="LinkPlugin"}(Rt||(Rt={})),function(e){e[e.INSERT=0]="INSERT",e[e.UPDATE=1]="UPDATE"}(zt||(zt={}));var No,Uo,Fo=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},qo=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ho=function(e,t){var n;switch(t){case Rt.MacroPlugin:n="kentico.components.widget.richtext.macroplugin";break;case Rt.LinkPlugin:n="kentico.components.widget.richtext.linkplugin";break;default:n=""}return Object(r.a)(s.c.LocalizationService).getLocalizationWithoutPrefix(n+"."+e)||n+"."+e},Wo=function(e){switch(e){case 0:return"page";case 1:return"media";case 2:return"attachment";default:return null}},Go=function(e,t){return Fo(void 0,void 0,Promise,(function(){var n,o,r;return qo(this,(function(i){switch(i.label){case 0:n=M(e,"linkUrl",encodeURIComponent(t)),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(n)];case 2:if(!(o=i.sent()).ok)throw new Error(o.statusText);return[2,o.json()];case 3:return r=i.sent(),console.error(r),[3,4];case 4:return[2,new Bo(A.LinkType.EXTERNAL)]}}))}))},$o=function(e,t){return e&&e[t]||Ho("macroelement.urlparameterprefix",Rt.MacroPlugin)+": "+t},Zo=function(e){return Ho(e,Rt.MacroPlugin)},Ko=function(e,t,o,r){return n(413)({macroClass:Ao,macroType:e,macroValue:t,macroDefaultValue:o,macroDisplayValue:r})},Yo=/<input [^>]*data-macro-type="(query|pattern)[^>]*>/g,Xo=/data-macro-value="([^"]*)"/,Jo=/data-macro-default-value="([^"]*)"/,Qo=/{%\s*ResolveDynamicText\(\s*"(query|pattern)"\s*,\s*"([^"]+)"\s*,\s*"(.*?)"\s*\)\s*%}/g,er=function(e){return e.replace(Yo,(function(e,t){return'{% ResolveDynamicText("'+t+'", "'+(e.match(Xo)[1]||"")+'", "'+_o()(e.match(Jo)[1]).replace(/"/g,'\\"')+'") %}'}))},tr=function(e){e.el.querySelectorAll(".ktc-macro").forEach((function(t){t.onclick=function(){return e.kenticoMacroPlugin.showActionsPopup(t)},t.onmousedown=function(e){2===e.button&&e.stopPropagation()}}))},nr=function(){return(nr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},or=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},rr=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(or(arguments[t]));return e},ir=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ar=function(e,t,n){var o,r=((o={initialized:function(){if(e){var t=function(e,t){return e.replace(Qo,(function(e,n,o,r){return Ko(n,o,vo()(r.replace(/\\"/g,'"')),$o(t,o))}))}(e,this.opts.contextMacros);this.html.set(t)}}})["html.set"]=function(){tr(this)},o.contentChanged=function(){tr(this)},o),i=cr(r,t);return cr(i,n)},cr=function(e,t){var n,o;if("object"!=typeof t.events)return e;var r=nr({},e),i=nr({},t.events),a=function(e,t){var n=i[e];"function"==typeof n&&(r[e]=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.call.apply(t,rr([this],e)),n.call.apply(n,rr([this],e))},delete i[e])};try{for(var c=ir(Object.entries(r)),l=c.next();!l.done;l=c.next()){var u=or(l.value,2);a(u[0],u[1])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return nr(nr({},r),i)},lr=n(157),ur=n.n(lr),sr=(n(416),"kenticoLinkPlugin"),pr="insertLink",fr="linkEdit",dr="closeLinkPopup",hr="saveLink",yr="clearSelection",br="openContentSelection",mr="kenticoLinkPlugin.popupLink",gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vr={codeMirror:ur.a,pasteDeniedAttrs:["id","style"],imageAllowedTypes:["gif","png","jpg","jpeg"],quickInsertButtons:["image","video","table","ul","ol","hr"],linkEditButtons:["linkOpen",fr,"linkRemove"],toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["formatOL","formatUL","paragraphFormat","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","paragraphStyle","lineHeight","outdent","indent","quote"],buttonsVisible:2},moreRich:{buttons:[pr,"insertImage",jo,"insertVideo","insertTable","emoticons","specialCharacters","insertHR"]},moreMisc:{buttons:["undo","redo","fullscreen","selectAll","html","help"],buttonsVisible:2}}},wr=function(){return(wr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},_r=function(){function e(e,t,n){this.commandName=e,this.commandParameters=t,this.commandIcon=n}return Object.defineProperty(e.prototype,"getPluginType",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.register=function(){Object(ho.RegisterCommand)(this.commandName,wr(wr({},this.commandParameters),{title:null!==this.getPluginType&&this.commandParameters.title?Ho(this.commandParameters.title,this.getPluginType):this.commandParameters.title})),this.commandIcon&&Object(ho.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)},e}(),kr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Or=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kr(t,e),t.prototype.register=function(){Object(ho.RegisterQuickInsertButton)(this.commandName,this.commandParameters),this.commandIcon&&Object(ho.DefineIcon)(this.commandIcon.iconName,this.commandIcon.iconParameters)},t}(_r),Tr=".fr-toolbar",Pr="ktc-hidden",xr=function(){document.querySelectorAll(Tr).forEach((function(e){e.classList.contains(Pr)&&e.classList.remove(Pr)}))},jr=function(e){return null!==e&&null!==e.offsetParent},Sr="insertImage",Er=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Ir=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Cr={title:"Insert Image",icon:Sr,focus:!0,undo:!0,refreshAfterCallback:!1,callback:function(){var e=this.image,t=this.opts;document.querySelectorAll(Tr).forEach((function(e){jr(e)&&e.classList.add(Pr)}));var n=window.kentico.modalDialog.contentSelector,o="."+t.imageAllowedTypes.join(";.");n.open({tabs:["media","attachment"],mediaOptions:{allowedExtensions:o},attachmentOptions:{allowedExtensions:o},applyCallback:function(t){var n=t.items;if(n&&n.length){var o=n[0];e.insert(o.url,!0)}xr()},cancelCallback:function(){xr()}})}},Lr=new _r(Sr,Cr),Ar=new Or("image",Cr),Mr=[Lr,new _r("imageReplace",{title:"Replace",focus:!1,undo:!0,refreshAfterCallback:!1,callback:function(){return Er(this,void 0,void 0,(function(){var e,t,n,o,r,i,a,c,l,u,s,p;return Ir(this,(function(f){switch(f.label){case 0:return t=(e=this).image,n=e.opts,o=t.get(),r=o[0],i=window.kentico.modalDialog.contentSelector,a=this.opts.getLinkMetadataEndpointUrl,[4,Go(a,r.getAttribute("src"))];case 1:return c=f.sent(),l=c.linkType,u=c.linkMetadata,s=Wo(l),p="."+n.imageAllowedTypes.join(";."),i.open({tabs:["media","attachment"],selectedItems:{type:s,items:[{value:u.identifier}]},mediaOptions:{allowedExtensions:p},attachmentOptions:{allowedExtensions:p},applyCallback:function(e){var n=e.type,r=e.items;if(r&&r.length){var i=r[0];n===s&&i.fileGuid===u.identifier||t.insert(i.url,!0,null,o)}}}),[2]}}))}))}}),Ar],Rr=function(e,t){this.iconName=e,this.iconParameters=t},zr=function(e){return e?e[0]:null},Dr=function(e,t){return zr(e.popups.get(t))},Vr=function(e,t,n,o,r,i,a){e.popups.get(t)||(!function(e,t,n,o){var r="";n.length>0&&(r+='<div class="fr-buttons">',r+=e.button.buildList(n),r+="</div>");var i={buttons:r};o&&(i.custom_layer=o),e.popups.create(t,i)}(e,t,n,a),o!==zt.INSERT&&!e.opts.toolbarInline&&e.$wp&&e.events.$on(e.$wp,"scroll",(function(){i&&i()&&e.popups.isVisible(t)&&Vr(e,t,n,o,r,i,a)})));var c=o===zt.INSERT&&e.$tb||e.$sc;e.popups.refresh(t),e.popups.setContainer(t,c);var l=i?i().getBoundingClientRect():e.position.getBoundingRect(),u=l.top,s=l.left,p=l.width,f=l.height,d=s+p/2-r/2,h=u+window.pageYOffset+f;e.popups.show(t,d,h,f)},Br=function(e){e.querySelectorAll(".fr-input-line input").forEach((function(e){e.addEventListener("focus",(function(){this.value||this.classList.add("fr-not-empty")})),e.addEventListener("blur",(function(){this.value||this.classList.remove("fr-not-empty")}))}))},Nr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nr(t,e),Object.defineProperty(t.prototype,"getPluginType",{get:function(){return Rt.LinkPlugin},enumerable:!1,configurable:!0}),t}(_r),Fr=function(e,t,n,o){void 0===t&&(t=""),void 0===n&&(n=!1),void 0===o&&(o=!1),"string"==typeof e?(this.linkText=0===e.trim().length?"":e,this.linkURL=t,this.openInNewTab=n,this.isImageLink=o):(this.linkText=e.text,this.linkURL=e.getAttribute("href")||"",this.openInNewTab="_blank"===e.target,this.isImageLink=!!e.querySelector("img"))},qr=function(){return(qr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Hr=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Wr=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Gr=function(e){return function(t){var n=zr(t);n&&((this.link.get()?!e:e)?n.classList.remove("fr-hidden"):n.classList.add("fr-hidden"))}},$r={title:"command.insertlink",focus:!1,undo:!1,plugin:sr,refreshAfterCallback:!0,callback:function(e){var t=this;this.selection.save();var n=this.selection.text(),o=zr(this.image.get()),r=!!o;if(No=new Fr(n,"",!1,r),Uo=new Bo(A.LinkType.PAGE),r&&o)this.kenticoLinkPlugin.showInsertLinkPopup(No,(function(){return t.image.get()[0]}));else if(this.opts.toolbarInline)this.kenticoLinkPlugin.showInsertLinkPopup(No);else{this.kenticoLinkPlugin.showInsertLinkPopup(No,(function(){return zr(t.$tb).querySelector('.fr-command[data-cmd="'+e+'"]')}))}}},Zr=new Ur(pr,$r),Kr=new Ur("imageLink",qr(qr({},$r),{refresh:Gr(!0)})),Yr=new Rr(dr,{NAME:"arrow-left",SVG_KEY:"back"}),Xr=new Ur(dr,{title:"command.back",undo:!1,focus:!1,callback:function(){this.kenticoLinkPlugin.closeLinkConfigurationPopup()}},Yr),Jr=new Ur(hr,{title:"",undo:!0,focus:!1,callback:function(){var e=ii(this);if(e){var t=this.link.get();t&&t.removeAttribute("target"),this.link.insert(e.linkURL,e.linkText,e.openInNewTab?{target:"_blank"}:void 0),this.kenticoLinkPlugin.closeLinkConfigurationPopup()}else this.kenticoLinkPlugin.closeLinkConfigurationPopup()}}),Qr=new Ur(fr,{title:"command.editlink",undo:!1,focus:!1,refresh:Gr(!1),callback:function(){return Hr(this,void 0,void 0,(function(){var e,t,n;return Wr(this,(function(o){switch(o.label){case 0:return e=this.link.get(),t=new Fr(e),n=this.opts.getLinkMetadataEndpointUrl,[4,Go(n,t.linkURL)];case 1:return Uo=o.sent(),this.kenticoLinkPlugin.showLinkConfigurationPopup(t,Uo),[2]}}))}))}}),ei=new Ur(yr,{title:"",undo:!1,focus:!1,callback:function(){var e=Dr(this,mr),t=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),n=e.querySelector("input[name='linkUrl']");t.disabled=!1,t.value="",t.focus(),n.value="",Uo=null}}),ti=new Ur("linkOpen",{title:"command.openlink",undo:!1,focus:!1,callback:function(){var e=this.link.get();e&&window.open(e.href,"_blank")}}),ni=new Ur(br,{title:"",undo:!1,focus:!1,callback:function(){var e=window.kentico.modalDialog.contentSelector,t={applyCallback:oi(this)},n=Uo&&Uo.linkMetadata&&Uo.linkMetadata.identifier;n&&(t=qr(qr({},t),{selectedItems:{type:Wo(Uo.linkType),items:[{value:n}]}})),e.open(t)}}),oi=function(e){return function(t){var n=t.type,o=t.items;if(o&&o.length){var r=Dr(e,mr),i=e.link.get(),a=new Fr(i?i.text:e.selection.text());if(!r)return;if("page"===n){var c=o[0],l=c.name,u=c.nodeGuid,s=c.url;ri(r,a,l,n,s,u)}else{var p=o[0],f=(s=p.url,l=p.name,p.fileGuid),d=p.extension;ri(r,a,d?l+d:l,n,s,f)}}}},ri=function(e,t,n,o,r,i){var a=e.querySelector(".ktc-selector").querySelector(".ktc-selector-item"),c=e.querySelector("input[name='linkUrl']"),l=e.querySelector("input[name='linkText']");c.value=r,a.value=a.title=n,a.classList.add("fr-not-empty"),a.disabled=!0,l&&!l.value&&(l.value=n,l.classList.add("fr-not-empty")),Uo=new Bo(ci(o),t.linkURL,{name:n,identifier:i})},ii=function(e){var t=Dr(e,mr);if(!t)return null;var n=ai(t),o=t.querySelector(".ktc-selector-item"),r=!o.disabled,i=!n.linkURL&&r?o.value:n.linkURL,a=n.linkText?n.linkText:o.value;return i?new Fr(a,i,n.openInNewTab):null},ai=function(e){var t=e.querySelector("#ktc-link-popup-form"),n=new FormData(t);return{linkURL:n.get("linkUrl"),linkText:n.get("linkText"),openInNewTab:Boolean(n.get("openInNewTab")),isImageLink:!1}},ci=function(e){switch(e){case"page":return A.LinkType.PAGE;case"media":return A.LinkType.MEDIA;case"attachment":return A.LinkType.ATTACHMENT;default:return null}},li=[Zr,Kr,Qr,Xr,ei,Jr,ni,ti],ui=(n(417),function(e){return Ho(e,Rt.LinkPlugin)});function si(e,t){fi(this,e,new Bo(A.LinkType.EXTERNAL),zt.INSERT,t)}function pi(e,t){var n=this;fi(this,e,t,zt.UPDATE,(function(){return n.link.get()}))}var fi=function(e,t,o,r,i){var a=mr;Vr(e,a,e.opts.popupInsertLinkButtons,r,300,i,'<div class="ktc-configure-popup"></div>');var c=Dr(e,a);if(c){var l=o.linkType,u=c.querySelector(".ktc-configure-popup");if(u){var s=[A.LinkType.PAGE,A.LinkType.MEDIA,A.LinkType.ATTACHMENT].includes(l)?o.linkMetadata.name:null;if(l===A.LinkType.LOCAL){var p=t.linkText,f=t.openInNewTab;t=new Fr(p,o.linkURL,f)}u.innerHTML=function(e,t,o,r){return n(418)({link:e||t.linkURL,linkLabel:ui("label.link"),linkUrl:t.linkURL,linkText:t.linkText,linkTextLabel:ui("label.text"),disableLinkInput:o===A.LinkType.PAGE||o===A.LinkType.MEDIA||o===A.LinkType.ATTACHMENT,imageLink:t.isImageLink,openInNewTabLabel:ui("label.openinnewtab"),openInNewTab:t.openInNewTab,command:hr,clearSelectionCommand:yr,contentSelectionCommand:br,clearSelectionButtonText:ui("actionbutton.clear"),contentSelectionButtonText:ui("actionbutton.select"),actionButtonText:ui(r===zt.INSERT?"actionbutton.insert":"actionbutton.save")})}(s,t,l,r),Br(c);var d=e.popups.get(a);e.accessibility.focusPopup(d)}}};function di(){this.popups.hide(mr)}var hi,yi=function(e){var t={showInsertLinkPopup:si,showLinkConfigurationPopup:pi,closeLinkConfigurationPopup:di};return Object.keys(t).forEach((function(n){t[n]=t[n].bind(e)})),t},bi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bi(t,e),Object.defineProperty(t.prototype,"getPluginType",{get:function(){return Rt.MacroPlugin},enumerable:!1,configurable:!0}),t}(_r);function gi(e){var t=this,n=this.kenticoMacroPlugin.getActiveMacro();n&&n.classList.remove(Mo),e.classList.add(Mo),Vr(this,Ro,this.opts.popupActionButtons,zt.UPDATE,102,(function(){return t.kenticoMacroPlugin.getActiveMacro()}))}function vi(){this.popups.hide(Ro);var e=this.el.querySelector(".ktc-macro-active");e&&e.classList.remove(Mo)}!function(e){e.URL="query",e.CONTEXT="pattern"}(hi||(hi={}));var wi,_i=function(e,t,n){return function(o,r,i,a){void 0===i&&(i=""),void 0===a&&(a="");Vr(this,e,t,o,300,r,'<div class="ktc-configure-popup"></div>'),ki(this,e,o,n,i,a)}},ki=function(e,t,o,r,i,a){void 0===o&&(o=zt.INSERT),void 0===i&&(i=""),void 0===a&&(a=""),a=a.trim().replace(/"/g,"&quot;");var c=Dr(e,t);if(c){var l=c.querySelector(".ktc-configure-popup"),u=void 0;r===hi.URL?(l.innerHTML=function(e,t,o){return void 0===e&&(e=zt.INSERT),void 0===t&&(t=""),void 0===o&&(o=""),n(414)({value:t,defaultValue:o,actionButtonText:e===zt.INSERT?Zo("actionbutton.insert"):Zo("actionbutton.save"),defaultTextLabel:Zo("label.defaulttext"),urlParameterLabel:Zo("label.urlparameter"),command:e===zt.INSERT?Co:To})}(o,i,a),u=Io):(l.innerHTML=function(e,t,o,r){return void 0===o&&(o=""),void 0===r&&(r=""),n(415)({macros:t,macroValue:o,macroDefaultValue:r,actionButtonText:e===zt.INSERT?Zo("actionbutton.insert"):Zo("actionbutton.save"),defaultTextLabel:Zo("label.defaulttext"),macroTypeLabel:Zo("label.contactattribute"),command:e===zt.INSERT?Lo:Po})}(o,e.opts.contextMacros,i,a),u=Eo);var s=c.querySelector(".fr-command.ktc-tab-active");if(s&&s.classList.remove(mo),c.querySelector('.fr-command[data-cmd="'+u+'"]').classList.add(mo),Br(c),r===hi.URL){var p=e.popups.get(t);e.accessibility.focusPopup(p)}}},Oi=new Rr(jo,{PATH:"m 1,12 3,-5 3,5 z m 22,0 -3,5 -3,-5 z M 8.34277,8.21484 h 7.82663 l 0.0127,2.62156 H 15.8076 C 15.6849,9.9012 15.3337,9.26855 14.7539,8.93848 14.4281,8.75651 13.9414,8.65706 13.2939,8.64014 v 6.84276 c 0,0.4782 0.0826,0.7956 0.2476,0.9522 0.1693,0.1565 0.5184,0.2348 1.0474,0.2348 V 17 H 9.95508 v -0.3301 c 0.50782,0 0.84422,-0.0783 1.00932,-0.2348 0.1692,-0.1608 0.2539,-0.4782 0.2539,-0.9522 V 8.64014 C 10.5835,8.65706 10.0968,8.75651 9.7583,8.93848 9.13623,9.27702 8.78499,9.90967 8.70459,10.8364 H 8.33008 Z M 12,19 c 2.3972,0 4.513,-1.205 5.7746,-3.0423 l 1.1063,1.8438 C 17.23,19.7576 14.7601,21 12,21 7.02944,21 3,16.9706 3,12 3,11.662 3.01863,11.3283 3.05493,11 H 5.07089 C 5.02417,11.3266 5,11.6605 5,12 c 0,3.866 3.13401,7 7,7 z M 6.2254,8.04233 C 7.48704,6.205 9.6028,5 12,5 c 3.866,0 7,3.13401 7,7 0,0.3395 0.0467,-0.3266 0,0 h 2 c 0.0363,-0.3283 0,0.338 0,0 C 21,7.02944 16.9706,3 12,3 9.23993,3 6.77005,4.24243 5.11912,6.19853 Z",template:"svg"}),Ti=new mi(jo,{title:"command.insertdynamictext",icon:jo,focus:!1,undo:!1,plugin:ko,refreshAfterCallback:!0,callback:function(e){var t=this;this.selection.save(),wi=this.selection.text();var n=this.opts.toolbarInline?void 0:function(){return zr(t.$tb).querySelector('.fr-command[data-cmd="'+e+'"]')};this.kenticoMacroPlugin.showConfigurationPopup(zt.INSERT,n,void 0,wi)}},Oi),Pi={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback:function(e){this.selection.restore();var t=Dr(this,zo);if(t){this.undo.saveStep();var n=t.querySelector("#ktc-macro-popup-form"),o=new FormData(n),r=e===Co?hi.URL:hi.CONTEXT,i=this.opts.contextMacros,a="",c="";if(r===hi.URL){var l=o.get("urlParameterName");a=encodeURI(l),c=$o(i,l)}else r===hi.CONTEXT&&(a=o.get("contextMacroType"),c=$o(i,a));var u=vo()(o.get("defaultText"));if(a){var s=Ko(r,a,u,c);this.html.insert(s)}this.kenticoMacroPlugin.hideConfigurationPopup()}}},xi=new mi("insertMacro",Pi),ji=new mi(Co,Pi),Si=new mi(Lo,Pi),Ei={title:"",focus:!1,undo:!0,refreshAfterCallback:!0,callback:function(e){var t=this.el.querySelector(".ktc-macro-active"),n=Dr(this,e===To?Do:e===Po?Vo:"");if(n&&t){this.undo.saveStep();var o=n.querySelector("#ktc-macro-popup-form"),r=new FormData(o),i=r.get(e===To?"urlParameterName":"contextMacroType"),a={macroValue:encodeURI(i),macroDefaultValue:vo()(r.get("defaultText"))};a.macroValue&&(t.value=$o(this.opts.contextMacros,i),Object.assign(t.dataset,a)),this.kenticoMacroPlugin.hidePopups()}}},Ii=new mi(To,Ei),Ci=new mi(Po,Ei),Li=new mi(Oo,{title:"command.removemacro",icon:"remove",focus:!1,undo:!0,refreshAfterCallback:!1,callback:function(){var e=this.el.querySelector(".ktc-macro-active");e&&(this.undo.saveStep(),e.remove()),this.kenticoMacroPlugin.hideActionsPopup()}}),Ai=new Rr(xo,{NAME:"cog-wheel",SVG_KEY:"cogs"}),Mi=new mi(xo,{title:"command.configuremacro",undo:!1,focus:!1,callback:function(){var e=this,t=function(){return e.kenticoMacroPlugin.getActiveMacro()},n=t();if(n){var o=n.dataset,r=o.macroValue,i=o.macroDefaultValue;o.macroType===hi.URL?this.kenticoMacroPlugin.showConfigureUrlPopup(zt.UPDATE,t,r,i):this.kenticoMacroPlugin.showConfigureContextMacroPopup(zt.UPDATE,t,r,i)}}},Ai),Ri=new Rr("macro",{PATH:"M 16,16 H 22 V 18 H 16 Z M 14,6 H 22 V 8 H 14 Z M 14,11 H 22 V 13 H 14 Z M 8,5.0572534 C 6.3794438,5.0572534 5.0572534,6.3794438 5.0572534,8 5.057254,9.6205557 6.3794443,10.942747 8,10.942747 9.6205553,10.942746 10.942746,9.6205553 10.942747,8 10.942747,6.3794443 9.6205557,5.057254 8,5.0572534 Z M 14,19 H 2 C 2,19 1.99997,12 7.99997,12 14,12 14,19 14,19 Z",template:"svg"}),zi=new mi(Eo,{title:"command.contactattribute",icon:"macro",undo:!1,focus:!1,callback:function(){ki(this,zo,zt.INSERT,hi.CONTEXT,void 0,wi)}},Ri),Di=new Rr("queryString",{PATH:"M16.456941 4.788366C14.346076 4.788366 12.619002 6.6581714 12.619002 8.943489C12.619002 8.943489 14.537971 8.943489 14.537971 8.943489C14.537971 7.8008302 15.401507 6.8659275 16.456941 6.8659275C17.512374 6.8659275 18.375911 7.8008302 18.375911 8.943489C18.375911 11.021051 15.497455 10.709418 15.497455 14.137394C15.497455 14.137394 15.497455 15.176174 15.497455 15.176174C15.497455 15.176174 17.416426 15.176174 17.416426 15.176174C17.416426 15.176174 17.416426 14.137394 17.416426 14.137394C17.416426 11.852075 20.294881 11.540442 20.294881 8.943489C20.294881 6.6581714 18.567807 4.788366 16.456941 4.788366C16.456941 4.788366 16.456941 4.788366 16.456941 4.788366M15.497455 17.253737C15.497455 17.253737 17.416426 17.253737 17.416426 17.253737C17.416426 17.253737 17.416426 19.331299 17.416426 19.331299C17.416426 19.331299 15.497455 19.331299 15.497455 19.331299C15.497455 19.331299 15.497455 17.253737 15.497455 17.253737M10.170443 4.7001474C10.170443 4.7001474 3.8418003 19.29756 3.8418003 19.29756C3.8418003 19.29756 5.8253586 19.28441 5.8253586 19.28441C5.8253586 19.28441 12.164521 4.7137829 12.164521 4.7137829",template:"svg"}),Vi=new mi(Io,{title:"command.urlparameter",icon:"queryString",undo:!1,focus:!1,callback:function(){ki(this,zo,zt.INSERT,hi.URL,void 0,wi)}},Di),Bi=new Rr("popupConfigureClose",{NAME:"arrow-left",SVG_KEY:"back"}),Ni=[Ti,Li,Mi,new mi(So,{title:"command.popupback",undo:!1,focus:!1,callback:function(){this.kenticoMacroPlugin.hideConfigurationPopup()}},Bi),zi,Vi,xi,ji,Si,Ii,Ci];function Ui(){this.popups.isVisible(Ro)&&this.popups.hide(Ro),qi.call(this)}function Fi(){return this.el.querySelector(".ktc-macro-active")}function qi(){this.popups.isVisible(Do)&&this.popups.hide(Do),this.popups.isVisible(Vo)&&this.popups.hide(Vo),this.popups.isVisible(zo)&&this.popups.hide(zo)}var Hi=function(e){var t=e.opts.popupConfigureButtons;e.opts.contextMacros||t.pop();var n={getActiveMacro:Fi,showActionsPopup:gi,hideActionsPopup:vi,showConfigureContextMacroPopup:_i(Vo,e.opts.popupEditContextMacroButtons,hi.CONTEXT),showConfigureUrlPopup:_i(Do,e.opts.popupEditUrlMacroButtons,hi.URL),showConfigurationPopup:_i(zo,t,hi.URL),hideConfigurationPopup:qi,hidePopups:Ui};return Object.keys(n).forEach((function(t){n[t]=n[t].bind(e)})),n},Wi=!1,Gi=function(){var e;Mr.forEach((function(e){return e.register()})),Object.assign(ho.POPUP_TEMPLATES,((e={})[Ro]="[_BUTTONS_]",e[zo]="[_BUTTONS_][_CUSTOM_LAYER_]",e["kenticoMacroPlugin.popupUrl"]="[_BUTTONS_][_CUSTOM_LAYER_]",e["kenticoMacroPlugin.popupContext"]="[_BUTTONS_][_CUSTOM_LAYER_]",e)),Object.assign(ho.DEFAULTS,{popupActionButtons:[Oo,xo],popupConfigureButtons:[So,"|",Io,Eo],popupEditUrlMacroButtons:[So,"|",Io],popupEditContextMacroButtons:[So,"|",Eo]}),Ni.forEach((function(e){return e.register()})),ho.PLUGINS.kenticoMacroPlugin=Hi,function(){var e;Object.assign(ho.POPUP_TEMPLATES,((e={})[mr]="[_BUTTONS_][_CUSTOM_LAYER_]",e)),Object.assign(ho.DEFAULTS,{popupInsertLinkButtons:[dr,"|"]}),li.forEach((function(e){return e.register()})),ho.PLUGINS.kenticoLinkPlugin=yi}()},$i=!1,Zi=function(e,t,n,o){return r=function(){if(e){!function(){var e;if(!Wi){var t=null===(e=window.kentico.pageBuilder.richTextEditor)||void 0===e?void 0:e.plugins;null==t||t.forEach((function(e){return e(yo.a)})),Wi=!0}}(),Yi(e);var r=Ki(e),i=function(e,t,n){return gr(gr(gr(gr({},vr),t),n),{key:ho.DEFAULTS.licenseKey,events:e,attribution:!1})}(ar(n,t,r),t,r);o&&o(i),new yo.a(e,i)}},void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r());var r},Ki=function(e){var t=e.dataset.richTextEditorConfiguration,n=window.kentico.pageBuilder.richTextEditor,o=n&&n.configurations&&n.configurations[t];return"object"==typeof o?o:{}},Yi=function(e){if(!$i){var t=e.dataset,n=t.getLinkMetadataEndpointUrl,o=t.richTextEditorLicense,r=t.contextMacros;Object.assign(ho.DEFAULTS,{getLinkMetadataEndpointUrl:n,licenseKey:o},r?{contextMacros:JSON.parse(r)}:{}),$i=!0}},Xi="Kentico.FormComponents.RichText.ApplyButtonAnimation",Ji="ktc-rich-text-form-component--fullscreen",Qi="ktc-btn-slide",ea=function(){function e(e,t){this.froalaEditor=e,this.formComponent=t,this.applyAndCloseButtonText=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applyandclosebutton"]}return e.prototype.initialize=function(){this.ensureSaveButton(),this.ensureFullscreen()},e.prototype.ensureSaveButton=function(){var e=this,t=document.createElement("div");t.innerHTML=n(419)({buttonText:this.applyAndCloseButtonText});var o=t.firstChild;o.addEventListener("click",(function(){e.handleFullscreenExit(),o.remove()})),document.body.appendChild(o),this.froalaEditor.tooltip.bind(this.froalaEditor.$sc,".ktc-btn-rich-text-apply"),this.ensureApplyButtonAnimation(o)},e.prototype.ensureFullscreen=function(){document.body.classList.add(Ji),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.events.focus()},e.prototype.ensureApplyButtonAnimation=function(e){localStorage.getItem(Xi)||(setTimeout((function(){e.classList.add(Qi)}),300),setTimeout((function(){e.classList.remove(Qi)}),3e3),localStorage.setItem(Xi,"1"))},e.prototype.handleFullscreenExit=function(){var e=this.formComponent.querySelector(".ktc-rich-text-value");this.froalaEditor.codeView.isActive()&&this.froalaEditor.codeView.toggle();var t=this.froalaEditor.html.get();e.value=er(t),e.dispatchEvent(new Event("change")),this.froalaEditor.fullscreen.toggle(),this.froalaEditor.destroy();var n=this.froalaEditor.$oel[0];n.innerHTML="",this.formComponent.querySelector("[data-inline-editor]").appendChild(n),document.body.classList.remove(Ji)},e}(),ta=n(421)(),na=function(e){return e=function(e){return e.replace(Qo,"")}(e),n(422)({html:e,froalaCss:ta})},oa=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ra=function(e){e&&e.toolbarButtons&&ia(e)},ia=function(e){var t,n;if(Array.isArray(e.toolbarButtons))e.toolbarButtons=e.toolbarButtons.filter((function(e){return"fullscreen"!==e}));else if(aa(e.toolbarButtons))try{for(var o=oa(Object.values(e.toolbarButtons)),r=o.next();!r.done;r=o.next()){var i=r.value;i&&i.buttons&&(i.buttons=i.buttons.filter((function(e){return"fullscreen"!==e})))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},aa=function(e){return"object"==typeof e},ca=function(e,t){var o=e.querySelector(".ktc-btn"),r=e.querySelector(".ktc-rich-text-value");o&&o.addEventListener("click",(function(){var t,o=e.querySelector(bo);o.classList.add("ktc-rich-text-form-component__froala"),document.body.appendChild(o),Zi(o,(t=e,{toolbarInline:!1,iframe:!0,zIndex:10205,events:{initialized:function(){new ea(this,t).initialize()}},iframeStyle:n(420)()}),r.value,ra)})),r.value=t.html,r.addEventListener("change",(function(){e.querySelector("iframe").srcdoc=na(r.value),""===r.value?e.classList.add("ktc-rich-text-form-component--empty"):e.classList.remove("ktc-rich-text-form-component--empty")})),r.dispatchEvent(new Event("change"))},la=function(e,t,n){var o=new CustomEvent("updateProperty",{detail:{name:t,value:er(n),refreshMarkup:!1}});e.dispatchEvent(o)},ua=function(){yo.a.MAIL_REGEX=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;var e=ho.DEFAULTS.videoInsertButtons||[];delete e[e.indexOf("videoUpload")],Gi(),Object(a.e)("Kentico.InlineEditor.RichText",{init:function(e){var t=e.editor.querySelector(bo);Zi(t,function(e){var t;return{toolbarInline:!0,events:(t={contentChanged:function(){la(e.editor,e.propertyName,this.html.get())}},t["commands.after"]=function(e){if("html"===e&&this.codeView.isActive()){var t=this.$oel[0];(null==t?void 0:t.querySelector(".fr-btn.html-switch")).textContent=window.kentico.localization.strings["kentico.components.formcomponent.richtext.applybutton"]}},t)}}(e),e.propertyValue)},destroy:function(e){var t;(t=e.editor.querySelector(bo))&&t["data-froala.editor"].destroy()}})};document.addEventListener("Kentico.FormComponents.RichText.Initialize",(function(e){var t=e.target,n=e.detail;ca(t,n)}));var sa=n(32),pa=n.n(sa),fa=(n(423),n(424),function(){return(fa=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),da="ktc-object-selector-dropdown",ha="ktc-object-selector-dropdown__search--hide",ya="ktc-object-selector-dropdown--searching",ba="ktc-object-selector-wrapper--height-limited",ma=pa.a.fn.select2.amd.require("select2/utils"),ga=pa.a.fn.select2.amd.require("select2/dropdown"),va=pa.a.fn.select2.amd.require("select2/dropdown/search"),wa=pa.a.fn.select2.amd.require("select2/dropdown/minimumResultsForSearch"),_a=pa.a.fn.select2.amd.require("select2/dropdown/attachBody"),ka=pa.a.fn.select2.amd.require("select2/dropdown/dropdownCss"),Oa=ma.Decorate(ma.Decorate(ma.Decorate(ma.Decorate(ga,va),wa),ka),_a),Ta=function(e,t){e.on("change.select2",(function(){var e=document.querySelector("[data-value-for='"+this.id+"']"),t=pa()(this).val();e.value=t?"["+t+"]":""})).one("select2:open",(function(e){pa()(e.target).data("select2").$dropdown.find("input.select2-search__field").prop("placeholder",Pa("searchplaceholder"))})).on("select2:open",(function(e){var t=pa()(e.target).data("select2").$dropdown;setTimeout((function(){t.find("."+da).addClass(ya)}),200)})).on("select2:closing",(function(e){pa()(e.target).data("select2").$dropdown.find("."+da).removeClass(ya)})),t&&e.on("select2:opening select2:closing",(function(){pa()(this).parent().find(".select2-search__field").prop("disabled",!0)})).on("select2:unselect",(function(t){var n;t.target.querySelector("[value='"+t.params.data.id+"']").remove();var o=e.select2("data").length,r=e.data("select2").options.options.maximumSelectionLength,i=r-o==1,a=e.select2("isOpen");r>0&&i&&a?e.select2("close"):null===(n=t.params.originalEvent)||void 0===n||n.stopPropagation()}))},Pa=function(e){return Object(r.a)(s.c.LocalizationService).getLocalizationWithoutPrefix("kentico.components.objectselector."+e)},xa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ja=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Sa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ea=function(e,t){return function(n,o){t(n,o,e)}},Ia=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Ca=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},La=function(e){function t(t,n,o){return e.call(this,t,n,o)||this}var n,o,r;return xa(t,e),t.prototype.initializePageBuilder=function(t){return Ia(this,void 0,void 0,(function(){var n,o,r=this;return Ca(this,(function(i){switch(i.label){case 0:return n=new me(t.pageIdentifier,t.applicationPath,t.configurationEndpoints,t.metadataEndpoint,t.allowedOrigins,t.constants,t.featureSet,t.pageTemplate,t.selectors),ua(),document.addEventListener("Kentico.Selector.ObjectSelector.Initialize",(function(e){var t=pa()(e.target),n=!1,o=parseInt(t.attr("data-max-items-limit"),10),r=1!==o;t.removeAttr("name");var i={multiple:r,maximumSelectionLength:r?o:0,placeholder:Pa("noitemselected"),minimumResultsForSearch:7,closeOnSelect:!r,selectionCssClass:"ktc-object-selector-container ktc-form-control",dropdownCssClass:da+" "+ha,ajax:{url:t.attr("data-get-objects-endpoint-url"),dataType:"json",delay:400,data:function(e){return{pageIndex:(null==e?void 0:e.page)-1||0,searchTerm:e.term}},processResults:function(e,t){return{results:e.items.map((function(e){return{id:JSON.stringify(e.value),text:e.text}})),pagination:{more:e.nextPageAvailable}}},transport:function(e,o,r){var i=pa.a.ajax(e);return i.then((function(e){if(!n){var o=t.data("select2").$dropdown.find("."+da);o.removeClass(ha),o.find("input.select2-search__field").focus(),n=!0}return e})).then(o),i.fail(r),i},cache:!0},language:{loadingMore:function(){return Pa("loadingmore")},noResults:function(){return Pa("noresults")},searching:function(){return Pa("searching")}}};r&&(i=fa(fa({},i),{dropdownAdapter:Oa,templateResult:function(e){return pa()("<span>"+e.text+"</span>")}})),t.select2(i),Ta(t,r);var a=t[0].closest(".ktc-object-selector-wrapper"),c=a.querySelector(".clear-button");if(c.addEventListener("click",(function(){t.empty().val(null).trigger("change")})),r){var l=function(){a.classList.remove(ba)};a.querySelector(".ktc-show-all-items-container").addEventListener("click",l),c.addEventListener("click",l),a.classList.add(ba);var u=a.querySelector(".select2-selection--multiple");u.scrollHeight<=u.clientHeight&&l()}})),[4,e.prototype.initialize.call(this,n,(function(e){return n=e,o=t.developmentMode,r=Object(_e.a)(o),Object(ge.e)($e,n,r(Object(ge.a)(ve.a.withExtraArgument(Object(we.a)()),Oe.a,ke.a)));var n,o,r}),fo,Mn,jt,pt)];case 1:return o=i.sent(),de.forEach((function(e){return e({namespace:window.kentico.modalDialog,config:n,dispatch:o.dispatch,localizationService:r.localizationService})})),[2]}}))}))},t=ja([Object(c.injectable)(),Ea(0,Object(c.inject)(s.c.LocalizationService)),Ea(1,Object(c.inject)(s.c.PageConfigurationService)),Ea(2,Object(c.inject)(s.c.MessagingService)),Sa("design:paramtypes",["function"==typeof(n=void 0!==A.LocalizationService&&A.LocalizationService)?n:Object,"function"==typeof(o=void 0!==l.a&&l.a)?o:Object,"function"==typeof(r=void 0!==w.a&&w.a)?r:Object])],t)}(L.a),Aa=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function c(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,c)}l((o=o.apply(e,t||[])).next())}))},Ma=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object(r.b)(I),window.kentico=window.kentico||{},window.kentico.pageBuilder={init:function(e){return Aa(void 0,void 0,void 0,(function(){return Ma(this,(function(t){switch(t.label){case 0:return[4,Object(r.c)(La).initializePageBuilder(e)];case 1:return t.sent(),[2]}}))}))},registerInlineEditor:a.e},i.e.disableDocumentLinks()}});